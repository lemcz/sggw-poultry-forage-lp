{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/components/forage-calculator-page/ForageCalculatorPage.vue","webpack:///./src/models/fieldMode.ts","webpack:///./src/components/text-field/TextField.vue","webpack:///./src/components/text-field/TextField.vue?36d3","webpack:///./src/components/add-button/AddButton.vue","webpack:///./src/components/add-button/AddButton.vue?ec9f","webpack:///./src/components/number-field/NumberField.vue","webpack:///./src/components/number-field/NumberField.vue?c60a","webpack:///./src/components/select-field/SelectField.vue","webpack:///./src/components/select-field/SelectField.vue?78de","webpack:///./src/helpers/collection-helpers.ts","webpack:///./src/components/food-item-table/FoodItemTable.vue","webpack:///./src/helpers/utils.ts","webpack:///./src/components/food-item-table/FoodItemTable.vue?7e87","webpack:///./src/components/food-item-table/FoodItemTable.vue?7868","webpack:///./src/helpers/food-item.service.ts","webpack:///./src/helpers/food-item-table.ts","webpack:///./src/helpers/calculate-feed-mix-api.ts","webpack:///./src/components/forage-calculator-page/ForageCalculatorPage.vue?a162","webpack:///./src/components/forage-calculator-page/ForageCalculatorPage.vue?5dc9","webpack:///./src/App.vue?1d14","webpack:///./src/App.vue?97f5","webpack:///./src/main.ts","webpack:///./src/App.vue?ecc3","webpack:///./src/components/food-item-table/FoodItemTable.vue?91f6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","model","products","config","updateSelected","removeProduct","confirmButtonText","cancelButtonText","icon","iconColor","title","resetToDefaults","reference","type","addSubstanceDialogVisible","footer","nutrient","label","FieldMode","Edit","addIngredientDialogVisible","width","destroy-on-close","center","schema","field","ingredient","style","forageType","options","limitOptions","tolerance","max","step","calculateMinimalCostMix","chosenForage","stripe","limitsData","limitsHeaders","limitHeader","prop","for","Mode","$emit","$event","target","modelValue","id","placeholder","View","props","setup","render","native-type","handleInput","min","parseFloat","isNaN","multiple","multi","option","alreadyExists","collection","item","some","collectionItem","isEqual","sum-text","max-height","show-summary","summary-method","getSummaries","toggleRowSelection","singularColumns","header","fixed","default","scope","row","doubleColumns","edit","getMixValueCell","min-width","size","handleDelete","$index","convertLabelToProperty","toLowerCase","split","join","extendFoodItemByProperty","sumNumeric","values","reduce","prev","curr","Number","getSuggestedPercentage","suggestedValues","totalIngredientsAmount","suggestedValue","PRECISION","toFixed","formatNumberToDisplay","Array","components","NumberField","emits","emit","getMixValue","product","percentage","selectedItems","columns","map","column","idx","no","every","__scopeId","FieldType","ForageType","getLimitsData","limits","limit","keys","acc","getLimitsHeaders","firstColumn","headers","Text","ingredientValue","Starter","energy","protein","lysine","methionine","tryptophan","fiber","calcium","phosphorus","sodium","Grower","Nioska","cost","dryWeight","arginine","this","FoodItemService","getHeaderType","Select","fillProductWithDefaults","getDefaultState","getHeaders","getProducts","DEFAULT_TOLERANCE","calculateFeedMix","constraints","variables","params","optimize","opType","lpProblemParams","loadingInstance","service","fullscreen","lock","a","post","then","finally","close","FoodItemTable","TextField","SelectField","AddButton","defaultHeaders","defaultProducts","defaultTolerance","Prester","Finiszer","find","selectedProducts","error","showClose","message","suggestedMix","feasible","success","forEach","bounded","rest","filter","addNutrient","newNutrient","addIngredient","ForageCalculatorPage","App","component","mount"],"mappings":"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","file":"js/app.01b69415.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <ForageCalculatorPage />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport ForageCalculatorPage from '@/components/forage-calculator-page/ForageCalculatorPage.vue';\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    ForageCalculatorPage,\n  },\n});\n</script>\n\n<style>\n#app {\n  text-align: center;\n}\n</style>\n","<template>\n  <el-container>\n    <el-header><h1>Kalkulator receptur mieszanek dla drobiu</h1></el-header>\n    <div class=\"container\">\n      <FoodItemTable\n        v-bind:model=\"products\"\n        v-bind:config=\"{\n          singularColumns,\n          doubleColumns,\n        }\"\n        @select-change=\"updateSelected\"\n        @product-remove=\"removeProduct\"\n      ></FoodItemTable>\n    </div>\n    <div class=\"container flex-space-between\">\n      <div>\n        <el-popconfirm\n          confirmButtonText=\"Tak\"\n          cancelButtonText=\"Anuluj\"\n          icon=\"el-icon-info\"\n          iconColor=\"red\"\n          title=\"Czy na pewno przywrócić dane do ustawień domyślnych?\"\n          v-on:confirm=\"resetToDefaults()\"\n        >\n          <template #reference>\n            <el-button type=\"info\">Reset danych</el-button>\n          </template>\n        </el-popconfirm>\n      </div>\n      <div class=\"button-group\">\n        <el-button type=\"primary\" @click=\"addSubstanceDialogVisible = true\">Dodaj substancję</el-button>\n        <el-dialog title=\"Dodaj substancję\" v-model=\"addSubstanceDialogVisible\">\n          <TextField v-model=\"nutrient\" :label=\"'Substancja'\" :mode=\"FieldMode.Edit\"></TextField>\n          <template #footer>\n            <span class=\"dialog-footer button-group\">\n              <el-button @click=\"addSubstanceDialogVisible = false\">Anuluj</el-button>\n              <AddButton\n                @click=\"\n                  addNutrient();\n                  addSubstanceDialogVisible = false;\n                \"\n                type=\"primary\"\n              />\n            </span>\n          </template>\n        </el-dialog>\n        <el-button type=\"primary\" @click=\"addIngredientDialogVisible = true\">Dodaj składnik</el-button>\n        <el-dialog title=\"Dodaj składnik\" v-model=\"addIngredientDialogVisible\" width=\"75%\" destroy-on-close center>\n          <div class=\"flex-wrap\">\n            <component\n              class=\"ml-mid\"\n              v-for=\"field in schema\"\n              :key=\"field.property\"\n              :is=\"field.type\"\n              v-model=\"ingredient[field.property]\"\n              v-bind=\"field\"\n            ></component>\n          </div>\n          <template #footer>\n            <span class=\"dialog-footer\">\n              <el-button @click=\"addIngredientDialogVisible = false\">Anuluj</el-button>\n              <AddButton\n                @click=\"\n                  addIngredient();\n                  addIngredientDialogVisible = false;\n                \"\n                type=\"primary\"\n              />\n            </span>\n          </template>\n        </el-dialog>\n      </div>\n    </div>\n    <el-divider></el-divider>\n    <div class=\"container\">\n      <SelectField\n        style=\"width: 180px;\"\n        v-model=\"forageType\"\n        :label=\"'Typ paszy'\"\n        :mode=\"FieldMode.Edit\"\n        :options=\"limitOptions\"\n      ></SelectField>\n      <NumberField\n        class=\"ml-mid\"\n        style=\"width: 180px;\"\n        :label=\"'Tolerancja błędu wyniku'\"\n        v-model=\"tolerance\"\n        :mode=\"FieldMode.Edit\"\n        :max=\"1\"\n        :step=\"0.01\"\n      ></NumberField>\n      <el-button class=\"ml-mid\" type=\"success\" v-on:click=\"calculateMinimalCostMix()\">\n        Wyznacz automatycznie\n      </el-button>\n    </div>\n    <div class=\"container flex-column\">\n      <h3>\n        Zalecane w 1 kg paszy dla grupy produkcyjnej\n        <strong>{{ chosenForage }}</strong>\n        :\n      </h3>\n      <el-table stripe :data=\"limitsData\">\n        <el-table-column\n          v-for=\"limitHeader in limitsHeaders\"\n          v-bind:key=\"limitHeader.property\"\n          :prop=\"limitHeader.property\"\n          :label=\"limitHeader.label\"\n        >\n        </el-table-column>\n      </el-table>\n    </div>\n  </el-container>\n</template>\n\n<script lang=\"ts\">\nimport { ElMessage } from 'element-plus';\nimport { computed, defineComponent, ref } from 'vue';\nimport TextField from '@/components/text-field/TextField.vue';\nimport AddButton from '@/components/add-button/AddButton.vue';\nimport NumberField from '@/components/number-field/NumberField.vue';\nimport SelectField from '@/components/select-field/SelectField.vue';\nimport { FieldMode } from '@/models/fieldMode';\nimport { alreadyExists } from '@/helpers/collection-helpers';\nimport FoodItemTable, { FoodItemModel } from '@/components/food-item-table/FoodItemTable.vue';\nimport { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { FieldType, FoodItemService, ForageType, getLimitsData, getLimitsHeaders } from '@/helpers/food-item.service';\nimport { fillProductWithDefaults, getDefaultState, getHeaderType } from '@/helpers/food-item-table';\nimport { calculateFeedMix } from '@/helpers/calculate-feed-mix-api';\nimport { extendFoodItemByProperty, getSuggestedPercentage } from '@/helpers/utils';\n\nexport default defineComponent({\n  name: 'ForageCalculator',\n  components: {\n    FoodItemTable,\n    TextField,\n    NumberField,\n    SelectField,\n    AddButton,\n  },\n  setup() {\n    const { headers: defaultHeaders, products: defaultProducts, tolerance: defaultTolerance } = getDefaultState();\n    const headers = ref(defaultHeaders);\n    const products = ref(defaultProducts);\n    const tolerance = ref(defaultTolerance);\n\n    const schema = computed(() =>\n      headers.value.map(\n        (header): FoodItemModel => ({\n          type: getHeaderType(header.type),\n          mode: FieldMode.Edit,\n          property: header.property,\n          label: header.label,\n          placeholder: header.label,\n        }),\n      ),\n    );\n\n    const ingredient = ref({\n      label: '',\n      percentage: 0,\n      cost: 0,\n    });\n    const nutrient = ref('');\n    const forageType = ref(ForageType.Grower);\n    const limitOptions: { value: ForageType; label: string }[] = [\n      { value: ForageType.Starter, label: 'Starter' },\n      { value: ForageType.Prester, label: 'Prester' },\n      { value: ForageType.Grower, label: 'Grower' },\n      { value: ForageType.Finiszer, label: 'Finiszer' },\n      { value: ForageType.Nioska, label: 'Nioska' },\n    ];\n    const chosenForage = computed(() =>\n      (limitOptions.find(({ value }) => value === forageType.value)?.label ?? '').toLowerCase(),\n    );\n    const limitsData = computed(() => {\n      // TODO this should only take into account current \"macros\"/\"headers\", not the hardcoded limits\n      const limits = FoodItemService.limits[forageType.value] ?? {};\n      return [getLimitsData(limits, 'min'), getLimitsData(limits, 'max')];\n    });\n    const limitsHeaders = computed(() => {\n      // TODO this should only take into account current \"macros\"/\"headers\", not the hardcoded limits\n      const limits = FoodItemService.limits[forageType.value] ?? {};\n      return getLimitsHeaders(limits, schema?.value);\n    });\n    let selectedProducts: FoodItemRecord[] = [];\n    const { singularColumns, doubleColumns } = headers.value.reduce(\n      (acc: { singularColumns: NutrientItem[]; doubleColumns: NutrientItem[] }, curr) => {\n        curr.ingredientValue ? acc.doubleColumns.push(curr) : acc.singularColumns.push(curr);\n        return acc;\n      },\n      { singularColumns: [], doubleColumns: [] },\n    );\n\n    return {\n      addSubstanceDialogVisible: ref(false),\n      addIngredientDialogVisible: ref(false),\n      schema,\n      headers,\n      products,\n      nutrient,\n      singularColumns,\n      doubleColumns,\n      ingredient,\n      forageType,\n      FieldMode,\n      ForageType,\n      chosenForage,\n      limitsData,\n      limitOptions,\n      limitsHeaders,\n      tolerance,\n      async calculateMinimalCostMix() {\n        if (selectedProducts.length === 0) {\n          ElMessage.error({\n            type: 'error',\n            showClose: true,\n            message: 'Należy wybrać produkty do wyliczenia mieszanki',\n          });\n          return;\n        }\n        const variables = selectedProducts.reduce((acc: { [key: string]: FoodItemRecord }, curr: FoodItemRecord): {\n          [key: string]: FoodItemRecord;\n        } => {\n          acc[curr.property ?? ''] = curr;\n          return acc;\n        }, {});\n        const constraints = {\n          ...FoodItemService.limits[forageType.value],\n        };\n        try {\n          const suggestedMix = await calculateFeedMix(constraints, variables, {\n            optimize: 'cost',\n            opType: 'min',\n            options: { tolerance: tolerance.value },\n          });\n          if (suggestedMix.feasible) {\n            ElMessage.success({\n              type: 'success',\n              showClose: true,\n              message: 'Pomyślnie wyznaczono składniki',\n            });\n            products.value.forEach((product) => {\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              const { feasible, bounded, result, ...rest } = suggestedMix;\n\n              product.percentage = getSuggestedPercentage(rest, product);\n            });\n          } else {\n            ElMessage.error({\n              type: 'error',\n              showClose: true,\n              message: 'Nie udało się znaleźć rozwiązania dla wybranych składników',\n            });\n          }\n        } catch (e) {\n          ElMessage.error({\n            type: 'error',\n            showClose: true,\n            message: 'Błąd połączenia z serwerem. Proszę spróbować ponownie później.',\n          });\n        }\n      },\n      resetToDefaults() {\n        const { products: defaultProducts, headers: defaultHeaders } = getDefaultState();\n        products.value = defaultProducts as any;\n        headers.value = defaultHeaders;\n      },\n      updateSelected(products: FoodItemRecord[]): void {\n        selectedProducts = products;\n      },\n      removeProduct(product: FoodItemRecord): void {\n        products.value = products.value.filter(({ label }) => label !== product.label);\n      },\n      addNutrient() {\n        const newNutrient: NutrientItem = {\n          label: nutrient.value,\n          property: nutrient.value,\n          type: FieldType.Number,\n          ingredientValue: true,\n        };\n        if (!nutrient.value || alreadyExists(headers.value, newNutrient)) {\n          return;\n        }\n\n        headers.value = [...headers.value, newNutrient];\n        products.value = products.value.map((product) => ({\n          ...product,\n          ...fillProductWithDefaults(product, headers.value),\n        }));\n        nutrient.value = '';\n      },\n      addIngredient() {\n        if (!ingredient.value.label || alreadyExists(products.value, ingredient.value as any)) {\n          return;\n        }\n\n        ingredient.value = extendFoodItemByProperty(ingredient.value) as any;\n\n        products.value = [...products.value, fillProductWithDefaults(ingredient.value, headers.value)] as any;\n        ingredient.value = {\n          label: '',\n          percentage: 0,\n          cost: 0,\n        };\n      },\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n","export enum FieldMode {\n  View,\n  Edit,\n}\n","<template>\n  <div class=\"form-input\">\n    <label :for=\"property\" v-if=\"label\">\n      <span>{{ label }}</span>\n    </label>\n    <input\n      type=\"text\"\n      v-if=\"mode === Mode.Edit\"\n      v-on:input=\"$emit('update:modelValue', $event.target.value)\"\n      :value=\"modelValue\"\n      :id=\"property\"\n      :name=\"property\"\n      :placeholder=\"placeholder\"\n    />\n    <span v-if=\"mode === Mode.View\">\n      {{ value }}\n    </span>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport { FieldMode } from '@/models/fieldMode';\n\nexport default defineComponent({\n  name: 'TextField',\n  props: ['property', 'label', 'placeholder', 'mode', 'modelValue'],\n  setup() {\n    return {\n      Mode: FieldMode,\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n","import { render } from \"./TextField.vue?vue&type=template&id=9e85a3ec\"\nimport script from \"./TextField.vue?vue&type=script&lang=js\"\nexport * from \"./TextField.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <el-button :type=\"type\" :native-type=\"'submit'\">\n    <span>Dodaj</span>\n  </el-button>\n</template>\n\n<script>\nexport default {\n  name: 'add-button',\n  props: ['type'],\n};\n</script>\n\n<style scoped></style>\n","import { render } from \"./AddButton.vue?vue&type=template&id=0198363a\"\nimport script from \"./AddButton.vue?vue&type=script&lang=js\"\nexport * from \"./AddButton.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"form-input\">\n    <label :for=\"property\" v-if=\"label\">\n      <span>{{ label }}</span>\n    </label>\n    <input\n      type=\"number\"\n      v-if=\"mode === Mode.Edit\"\n      v-on:input=\"$emit('update:modelValue', handleInput($event))\"\n      :value=\"modelValue\"\n      :id=\"property\"\n      :name=\"property\"\n      :step=\"step\"\n      :max=\"max\"\n      :min=\"min ?? 0\"\n      :placeholder=\"placeholder\"\n    />\n    <span v-if=\"mode === Mode.View\">\n      {{ modelValue }}\n    </span>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport { FieldMode } from '@/models/fieldMode';\n\nexport default defineComponent({\n  name: 'NumberInput',\n  props: ['property', 'label', 'placeholder', 'mode', 'modelValue', 'min', 'max', 'step'],\n  setup() {\n    return {\n      Mode: FieldMode,\n      handleInput($event) {\n        const max = parseFloat($event.target.max);\n        const min = parseFloat($event.target.min);\n        const value = parseFloat($event.target.value);\n        if (!isNaN(max) && value > max) {\n          $event.target.value = max;\n        }\n        if (!isNaN(min) && value < min) {\n          $event.target.value = min;\n        }\n        return $event.target.value ? parseFloat($event.target.value) : $event.target.value;\n      },\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n","import { render } from \"./NumberField.vue?vue&type=template&id=208167a8\"\nimport script from \"./NumberField.vue?vue&type=script&lang=js\"\nexport * from \"./NumberField.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"form-input\">\n    <label :for=\"property\" v-if=\"label\">\n      <span>{{ label }}</span>\n    </label>\n    <select\n      :id=\"property\"\n      :name=\"property\"\n      :multiple=\"multi\"\n      :value=\"modelValue\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n      <option v-for=\"option in options\" :key=\"option.value\" :value=\"option.value\">\n        {{ option.label }}\n      </option>\n    </select>\n    <span v-if=\"mode === Mode.View\">\n      {{ modelValue }}\n    </span>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport { FieldMode } from '@/models/fieldMode';\n\nexport default defineComponent({\n  name: 'SelectField',\n  props: ['property', 'label', 'mode', 'multi', 'modelValue', 'options'],\n  setup() {\n    return {\n      Mode: FieldMode,\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n","import { render } from \"./SelectField.vue?vue&type=template&id=4b8e497c\"\nimport script from \"./SelectField.vue?vue&type=script&lang=js\"\nexport * from \"./SelectField.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { isEqual } from 'lodash-es';\n\nexport function alreadyExists<T>(collection: T[], item: T): boolean {\n  return collection.some((collectionItem) => isEqual(collectionItem, item));\n}\n","<template>\n  <el-table\n    sum-text=\"Suma\"\n    max-height=\"740\"\n    :data=\"model\"\n    show-summary\n    :summary-method=\"getSummaries\"\n    @selection-change=\"toggleRowSelection\"\n  >\n    <el-table-column type=\"selection\" width=\"38px\"></el-table-column>\n    <el-table-column\n      v-for=\"header in config.singularColumns\"\n      v-bind:key=\"header.property\"\n      fixed\n      :label=\"header.label\"\n      :prop=\"header.property\"\n      :width=\"header.property === 'label' ? '300px' : ''\"\n    >\n      <template #default=\"scope\">\n        <span v-if=\"header.property !== 'percentage'\">\n          {{ scope.row[header.property] }}\n        </span>\n        <component\n          v-else\n          :is=\"'NumberField'\"\n          :mode=\"FieldMode.Edit\"\n          v-model=\"scope.row[header.property]\"\n          :min=\"0\"\n          :max=\"100\"\n        ></component>\n      </template>\n    </el-table-column>\n    <el-table-column v-for=\"header in config.doubleColumns\" v-bind:key=\"header.property\" :label=\"header.label\">\n      <el-table-column label=\"/ 1kg\" :prop=\"header.property\">\n        <template #default=\"scope\">\n          <span v-if=\"!scope.row.edit\">\n            {{ scope.row[header.property] }}\n          </span>\n          <component\n            v-else\n            :is=\"'NumberField'\"\n            :mode=\"FieldMode.Edit\"\n            v-model=\"scope.row[header.property]\"\n            :min=\"0\"\n            :max=\"1000\"\n          ></component>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"w mieszance\" :prop=\"header.property\">\n        <template #default=\"scope\">\n          <span class=\"ml-mid\">{{ getMixValueCell(scope.row, header) }}</span>\n        </template>\n      </el-table-column>\n    </el-table-column>\n    <el-table-column label=\"Akcje\" min-width=\"120px\">\n      <template #default=\"scope\">\n        <div class=\"flex\">\n          <el-button\n            v-if=\"!scope.row.edit\"\n            size=\"mini\"\n            type=\"info\"\n            @click=\"scope.row.edit = true\"\n            icon=\"el-icon-edit\"\n          ></el-button>\n          <el-button v-else size=\"mini\" type=\"primary\" @click=\"scope.row.edit = false\" icon=\"el-icon-check\"></el-button>\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(scope.$index, scope.row)\"\n            icon=\"el-icon-delete\"\n          ></el-button>\n        </div>\n      </template>\n    </el-table-column>\n  </el-table>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { TFieldType } from '@/helpers/food-item-table';\nimport { FieldMode } from '@/models/fieldMode';\nimport NumberField from '@/components/number-field/NumberField.vue';\nimport { formatNumberToDisplay, sumNumeric } from '@/helpers/utils';\n\nexport interface FoodItemModel {\n  type: TFieldType;\n  mode: FieldMode;\n  property: string;\n  label: string;\n  placeholder: string;\n}\n\nexport default defineComponent({\n  name: 'FoodItemTable',\n  props: {\n    model: Array as () => FoodItemRecord[],\n    config: Object as () => {\n      singularColumns: NutrientItem[];\n      doubleColumns: NutrientItem[];\n    },\n  },\n  components: {\n    NumberField,\n  },\n  emits: ['select-change', 'product-remove'],\n  setup(props, { emit }) {\n    const getMixValue = (product: any, header: any): number => {\n      return formatNumberToDisplay(((product.percentage as number) * product[header.property]) / 100);\n    };\n\n    return {\n      handleDelete($index: number, row: FoodItemRecord): void {\n        emit('product-remove', row);\n      },\n      toggleRowSelection(selectedItems: FoodItemRecord[]): void {\n        emit('select-change', selectedItems);\n      },\n      getMixValueCell(product: any, header: any): number {\n        return getMixValue(product, header);\n      },\n      getSummaries({ columns, data }: any): (string | number)[] {\n        return columns.map((column: any, idx: number): string | number => {\n          if (idx === 0) return '';\n          if (idx === 1) return 'Suma';\n          // NOTE these are the columns which represent values / 1kg\n          if (column.no === 0) return '';\n\n          const values = data.map((item: any): number =>\n            column.property === 'percentage' ? Number(item[column.property]) : getMixValue(item, column),\n          );\n          if (!values.every((value: any) => isNaN(value))) {\n            return formatNumberToDisplay(sumNumeric(values));\n          }\n\n          return '';\n        });\n      },\n      FieldMode,\n    };\n  },\n});\n</script>\n\n<style scoped>\n.el-button {\n  max-width: 44px;\n}\n</style>\n","import { FoodItemRecord } from '@/models/foodItem.model';\n\nexport function convertLabelToProperty(label = ''): string {\n  return label\n    .toLowerCase()\n    .split(' ')\n    .join('_');\n}\n\n// TODO move 'property' prop to the type / interface\nexport function extendFoodItemByProperty(item: FoodItemRecord): FoodItemRecord & { property: string } {\n  return {\n    ...item,\n    property: convertLabelToProperty(item.label as string),\n  };\n}\n\nexport function sumNumeric(values: number[]): number {\n  return values.reduce((prev: number, curr: any): number => {\n    const value = Number(curr);\n    return isNaN(value) ? prev : prev + curr;\n  }, 0);\n}\n\nexport function getSuggestedPercentage(suggestedValues: { [key: string]: number }, item: any): number {\n  const totalIngredientsAmount = sumNumeric(Object.values(suggestedValues));\n\n  const suggestedValue = suggestedValues?.[item?.property];\n  if (suggestedValue) {\n    const PRECISION = 8;\n    return parseFloat(((suggestedValue * 100) / totalIngredientsAmount).toFixed(PRECISION));\n  }\n  return 0;\n}\n\nexport function formatNumberToDisplay(value: number): number {\n  return parseFloat(value.toFixed(2));\n}\n","\nimport { defineComponent } from 'vue';\nimport { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { TFieldType } from '@/helpers/food-item-table';\nimport { FieldMode } from '@/models/fieldMode';\nimport NumberField from '@/components/number-field/NumberField.vue';\nimport { formatNumberToDisplay, sumNumeric } from '@/helpers/utils';\n\nexport interface FoodItemModel {\n  type: TFieldType;\n  mode: FieldMode;\n  property: string;\n  label: string;\n  placeholder: string;\n}\n\nexport default defineComponent({\n  name: 'FoodItemTable',\n  props: {\n    model: Array as () => FoodItemRecord[],\n    config: Object as () => {\n      singularColumns: NutrientItem[];\n      doubleColumns: NutrientItem[];\n    },\n  },\n  components: {\n    NumberField,\n  },\n  emits: ['select-change', 'product-remove'],\n  setup(props, { emit }) {\n    const getMixValue = (product: any, header: any): number => {\n      return formatNumberToDisplay(((product.percentage as number) * product[header.property]) / 100);\n    };\n\n    return {\n      handleDelete($index: number, row: FoodItemRecord): void {\n        emit('product-remove', row);\n      },\n      toggleRowSelection(selectedItems: FoodItemRecord[]): void {\n        emit('select-change', selectedItems);\n      },\n      getMixValueCell(product: any, header: any): number {\n        return getMixValue(product, header);\n      },\n      getSummaries({ columns, data }: any): (string | number)[] {\n        return columns.map((column: any, idx: number): string | number => {\n          if (idx === 0) return '';\n          if (idx === 1) return 'Suma';\n          // NOTE these are the columns which represent values / 1kg\n          if (column.no === 0) return '';\n\n          const values = data.map((item: any): number =>\n            column.property === 'percentage' ? Number(item[column.property]) : getMixValue(item, column),\n          );\n          if (!values.every((value: any) => isNaN(value))) {\n            return formatNumberToDisplay(sumNumeric(values));\n          }\n\n          return '';\n        });\n      },\n      FieldMode,\n    };\n  },\n});\n","import { render } from \"./FoodItemTable.vue?vue&type=template&id=188c9480&scoped=true\"\nimport script from \"./FoodItemTable.vue?vue&type=script&lang=ts\"\nexport * from \"./FoodItemTable.vue?vue&type=script&lang=ts\"\n\nimport \"./FoodItemTable.vue?vue&type=style&index=0&id=188c9480&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-188c9480\"\n\nexport default script","import { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { FoodItemModel } from '@/components/food-item-table/FoodItemTable.vue';\n\nexport enum FieldType {\n  Text = 'text',\n  Number = 'number',\n  Select = 'select',\n}\n\nexport enum ForageType {\n  Prester = 'prester',\n  Starter = 'starter',\n  Grower = 'grower',\n  Finiszer = 'finiszer',\n  Nioska = 'nioska',\n}\n\nexport function getLimitsData(limits: ForageTypeLimits, type: 'min' | 'max') {\n  return {\n    limit: type,\n    ...Object.keys(limits).reduce((acc: { [key: string]: number | string }, curr) => {\n      acc[curr] = (limits as any)[curr][type] ?? '-';\n      return acc;\n    }, {}),\n  };\n}\n\nexport function getLimitsHeaders(\n  limits: ForageTypeLimits,\n  collection: any[] = [],\n): { property: string; label: string }[] {\n  const firstColumn = {\n    property: 'limit',\n    label: '',\n  };\n\n  return (\n    collection.reduce(\n      (\n        acc: { property: string; label: string }[],\n        { property, label }: FoodItemModel,\n      ): { property: string; label: string }[] => {\n        if (!(limits as any)[property]) {\n          return acc;\n        }\n\n        return [\n          ...acc,\n          {\n            property,\n            label,\n          },\n        ];\n      },\n      [firstColumn],\n    ) ?? []\n  );\n}\n\nexport type NutrientItemProperty = string;\n// TODO find a way to reflect that Record implements some keys of a ForageType\nexport type ForageTypeLimits = {\n  [P in ForageType]?: Record<NutrientItemProperty, { min?: number; max?: number }>;\n};\n\nclass FoodItemSingleton {\n  // TODO find a common object for property name and display label - headers & limits\n  headers: NutrientItem[] = [\n    { label: 'Produkt', property: 'label', type: FieldType.Text, ingredientValue: false },\n    { label: '%', property: 'percentage', type: FieldType.Number, ingredientValue: false },\n    { label: 'Cena', property: 'cost', type: FieldType.Number, ingredientValue: true },\n    { label: 'Sucha masa', property: 'dryWeight', type: FieldType.Number, ingredientValue: true },\n    { label: 'Energia', property: 'energy', type: FieldType.Number, ingredientValue: true },\n    { label: 'Białko ogólne (g)', property: 'protein', type: FieldType.Number, ingredientValue: true },\n    { label: 'Lizyna (g)', property: 'lysine', type: FieldType.Number, ingredientValue: true },\n    { label: 'Metionina (g)', property: 'methionine', type: FieldType.Number, ingredientValue: true },\n    { label: 'Tryptofan (g)', property: 'tryptophan', type: FieldType.Number, ingredientValue: true },\n    { label: 'Arginina (g)', property: 'arginine', type: FieldType.Number, ingredientValue: true },\n    { label: 'Włókno (g)', property: 'fiber', type: FieldType.Number, ingredientValue: true },\n    { label: 'Ca (g)', property: 'calcium', type: FieldType.Number, ingredientValue: true },\n    { label: 'P ogólny (g)', property: 'phosphorus', type: FieldType.Number, ingredientValue: true },\n    { label: 'Na (g)', property: 'sodium', type: FieldType.Number, ingredientValue: true },\n  ];\n\n  limits: ForageTypeLimits = {\n    [ForageType.Starter]: {\n      energy: {\n        min: 12.1,\n        max: 12.9,\n      },\n      protein: {\n        min: 210,\n        max: 224,\n      },\n      lysine: {\n        min: 13,\n      },\n      methionine: {\n        min: 6.5,\n      },\n      tryptophan: {\n        min: 2.2,\n      },\n      fiber: {\n        max: 40,\n      },\n      calcium: {\n        min: 10,\n      },\n      phosphorus: {\n        min: 6.5,\n      },\n      sodium: {\n        min: 0.15,\n      },\n    },\n    [ForageType.Grower]: {\n      energy: {\n        min: 12.3,\n        max: 13.4,\n      },\n      protein: {\n        min: 193,\n        max: 200,\n      },\n      lysine: {\n        min: 14,\n      },\n      methionine: {\n        min: 7,\n      },\n      tryptophan: {\n        min: 2,\n      },\n      fiber: {\n        max: 40,\n      },\n      calcium: {\n        min: 10,\n      },\n      phosphorus: {\n        min: 6.3,\n      },\n      sodium: {\n        min: 0.15,\n      },\n    },\n    [ForageType.Nioska]: {\n      energy: {\n        min: 11.3,\n        max: 11.7,\n      },\n      protein: {\n        min: 155,\n        max: 175,\n      },\n      lysine: {\n        min: 9,\n      },\n      methionine: {\n        min: 3.5,\n      },\n      tryptophan: {\n        min: 1.7,\n      },\n      fiber: {\n        max: 40,\n      },\n      calcium: {\n        min: 32,\n      },\n      phosphorus: {\n        min: 5.5,\n      },\n      sodium: {\n        min: 0.15,\n      },\n    },\n  };\n\n  products: FoodItemRecord[] = [\n    {\n      label: 'Śruta jęczmienna',\n      percentage: 0,\n      cost: 0.83,\n      dryWeight: 880,\n      energy: 11.85,\n      protein: 111,\n      lysine: 3.88,\n      methionine: 1.8,\n      tryptophan: 1.3,\n      arginine: 5.1,\n      fiber: 48,\n      calcium: 0.4,\n      phosphorus: 3.7,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta pszenna',\n      percentage: 0,\n      cost: 1.1,\n      dryWeight: 880,\n      energy: 12.85,\n      protein: 118,\n      lysine: 3.54,\n      methionine: 1.8,\n      tryptophan: 1.3,\n      arginine: 5.3,\n      fiber: 29,\n      calcium: 0.7,\n      phosphorus: 3.7,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta pszenżytnia',\n      percentage: 0,\n      cost: 1,\n      dryWeight: 880,\n      energy: 12.6,\n      protein: 120,\n      lysine: 3.8,\n      methionine: 1.8,\n      tryptophan: 1.2,\n      arginine: 5.2,\n      fiber: 24,\n      calcium: 0.4,\n      phosphorus: 3.7,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta kukurydziana',\n      percentage: 0,\n      cost: 0.9,\n      dryWeight: 880,\n      energy: 13.75,\n      protein: 93,\n      lysine: 2.61,\n      methionine: 1.8,\n      tryptophan: 0.6,\n      arginine: 3.9,\n      fiber: 29,\n      calcium: 0.4,\n      phosphorus: 2.6,\n      sodium: 0.2,\n    },\n    {\n      label: 'Śruta z owsa',\n      percentage: 0,\n      cost: 0.65,\n      dryWeight: 880,\n      energy: 10.75,\n      protein: 114,\n      lysine: 4.57,\n      methionine: 1.8,\n      tryptophan: 1.2,\n      arginine: 6.8,\n      fiber: 89,\n      calcium: 0.7,\n      phosphorus: 3.7,\n      sodium: 0.6,\n    },\n    {\n      label: 'Otręby pszenne',\n      percentage: 0,\n      cost: 0.68,\n      dryWeight: 880,\n      energy: 8.5,\n      protein: 143,\n      lysine: 5.74,\n      methionine: 2.7,\n      tryptophan: 2.6,\n      arginine: 9.8,\n      fiber: 63,\n      calcium: 1.1,\n      phosphorus: 10.2,\n      sodium: 0.3,\n    },\n    {\n      label: 'Śruta z bobiku',\n      percentage: 0,\n      cost: 1.2,\n      dryWeight: 880,\n      energy: 10.1,\n      protein: 268,\n      lysine: 17.7,\n      methionine: 1.9,\n      tryptophan: 2.3,\n      arginine: 23.9,\n      fiber: 73,\n      calcium: 1.2,\n      phosphorus: 5.3,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta z łubinu żółtego',\n      percentage: 0,\n      cost: 1.4,\n      dryWeight: 880,\n      energy: 8.3,\n      protein: 390,\n      lysine: 19.5,\n      methionine: 2.5,\n      tryptophan: 3.1,\n      arginine: 43.1,\n      fiber: 135,\n      calcium: 2.4,\n      phosphorus: 7.1,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta z grochu',\n      percentage: 0,\n      cost: 2.5,\n      dryWeight: 880,\n      energy: 10.35,\n      protein: 209,\n      lysine: 15.6,\n      methionine: 2,\n      tryptophan: 2.2,\n      arginine: 18.3,\n      fiber: 60,\n      calcium: 0.8,\n      phosphorus: 3.6,\n      sodium: 0.1,\n    },\n    {\n      label: 'Pełnotłusta śruta z rzepaku',\n      percentage: 0,\n      cost: 14.3,\n      dryWeight: 930,\n      energy: 18.85,\n      protein: 192,\n      lysine: 12.4,\n      methionine: 4,\n      tryptophan: 2.8,\n      arginine: 13.6,\n      fiber: 101,\n      calcium: 3.4,\n      phosphorus: 7,\n      sodium: 0.2,\n    },\n    {\n      label: 'Pełnotlusta soja ekstrudowana',\n      percentage: 0,\n      cost: 14,\n      dryWeight: 930,\n      energy: 13.55,\n      protein: 350,\n      lysine: 20.7,\n      methionine: 4.7,\n      tryptophan: 4.6,\n      arginine: 24.8,\n      fiber: 64,\n      calcium: 2.6,\n      phosphorus: 6.2,\n      sodium: 0.3,\n    },\n    {\n      label: 'Śruta poekstrakcyjna rzepakowa',\n      percentage: 0,\n      cost: 1.4,\n      dryWeight: 880,\n      energy: 7.45,\n      protein: 340,\n      lysine: 18.2,\n      methionine: 6.9,\n      tryptophan: 4.5,\n      arginine: 20.4,\n      fiber: 112,\n      calcium: 6.6,\n      phosphorus: 11.2,\n      sodium: 0.4,\n    },\n    {\n      label: 'Śruta poekstrakcyjna sojowa (42-46)',\n      percentage: 0,\n      cost: 2.3,\n      dryWeight: 880,\n      energy: 8.6,\n      protein: 420,\n      lysine: 26.1,\n      methionine: 5.6,\n      tryptophan: 5.2,\n      arginine: 34.5,\n      fiber: 102,\n      calcium: 3.5,\n      phosphorus: 5.4,\n      sodium: 0.4,\n    },\n    {\n      label: 'Śruta poekstrakcyjna sojowa (>46 b.o.)',\n      percentage: 0,\n      cost: 2,\n      dryWeight: 880,\n      energy: 9,\n      protein: 466,\n      lysine: 27.5,\n      methionine: 6.5,\n      tryptophan: 6.2,\n      arginine: 35.5,\n      fiber: 78,\n      calcium: 3.5,\n      phosphorus: 5.4,\n      sodium: 0.4,\n    },\n    {\n      label: 'Śruta poekstrakcyjna słonecznikowa (obł)',\n      percentage: 0,\n      cost: 1.39,\n      dryWeight: 880,\n      energy: 6.5,\n      protein: 340,\n      lysine: 12.1,\n      methionine: 7.4,\n      tryptophan: 4.2,\n      arginine: 27.5,\n      fiber: 175,\n      calcium: 3.2,\n      phosphorus: 8.8,\n      sodium: 0.2,\n    },\n    {\n      label: 'DDGS kukurydziany',\n      percentage: 0,\n      cost: 1.44,\n      dryWeight: 880,\n      energy: 10.69,\n      protein: 260,\n      lysine: 5.1,\n      methionine: 4.7,\n      tryptophan: 3.8,\n      arginine: 11.6,\n      fiber: 77,\n      calcium: 2.1,\n      phosphorus: 8.4,\n      sodium: 5.4,\n    },\n    {\n      label: 'Drożdże pastewne',\n      percentage: 0,\n      cost: 3.5,\n      dryWeight: 900,\n      energy: 10.3,\n      protein: 426,\n      lysine: 29.4,\n      methionine: 6.4,\n      tryptophan: 5,\n      arginine: 18.9,\n      fiber: 65,\n      calcium: 5,\n      phosphorus: 14.3,\n      sodium: 0.1,\n    },\n    {\n      label: 'Mleko odtłuszczone',\n      percentage: 0,\n      cost: 7,\n      dryWeight: 930,\n      energy: 9.85,\n      protein: 327,\n      lysine: 26.1,\n      methionine: 8.8,\n      tryptophan: 4.5,\n      arginine: 11.6,\n      fiber: 0,\n      calcium: 12.4,\n      phosphorus: 8.8,\n      sodium: 5,\n    },\n    {\n      label: 'Serwatka',\n      percentage: 0,\n      cost: 0.5,\n      dryWeight: 930,\n      energy: 8,\n      protein: 122,\n      lysine: 9.5,\n      methionine: 1.8,\n      tryptophan: 1.7,\n      arginine: 2.9,\n      fiber: 0,\n      calcium: 5.1,\n      phosphorus: 6,\n      sodium: 6.5,\n    },\n    {\n      label: 'Susz z lucerny',\n      percentage: 0,\n      cost: 2,\n      dryWeight: 910,\n      energy: 5.45,\n      protein: 202,\n      lysine: 9.3,\n      methionine: 2.9,\n      tryptophan: 3.4,\n      arginine: 8.1,\n      fiber: 206,\n      calcium: 13.2,\n      phosphorus: 3.1,\n      sodium: 0.8,\n    },\n    {\n      label: 'Olej',\n      percentage: 0,\n      cost: 3.9,\n      dryWeight: 1000,\n      energy: 37.65,\n      protein: 0,\n      lysine: 0,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 0,\n    },\n    {\n      label: 'Mączka rybna (65% b.o.)',\n      percentage: 0,\n      cost: 6,\n      dryWeight: 910,\n      energy: 12.2,\n      protein: 647,\n      lysine: 49.3,\n      methionine: 20.1,\n      tryptophan: 7.4,\n      arginine: 37.4,\n      fiber: 0,\n      calcium: 33.2,\n      phosphorus: 27.6,\n      sodium: 11.3,\n    },\n    {\n      label: 'Metionina (50%)',\n      percentage: 0,\n      cost: 25,\n      dryWeight: 900,\n      energy: 12.2,\n      protein: 0,\n      lysine: 0,\n      methionine: 500,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 0,\n    },\n    {\n      label: 'Lizyna (50%)',\n      percentage: 0,\n      cost: 19,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 500,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 0,\n    },\n    {\n      label: 'Kreda pastewna',\n      percentage: 0,\n      cost: 0.48,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 0,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 360.6,\n      phosphorus: 0.2,\n      sodium: 0.6,\n    },\n    {\n      label: 'Fosforan jednowapniowy',\n      percentage: 0,\n      cost: 3,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 0,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 220,\n      phosphorus: 230,\n      sodium: 0,\n    },\n    {\n      label: 'NaCl',\n      percentage: 0,\n      cost: 0.74,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 0,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 3,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 393,\n    },\n    {\n      label: 'Premix (7% lizyny)',\n      percentage: 0,\n      cost: 3.8,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 70,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 0,\n    },\n  ];\n\n  getProducts(): FoodItemRecord[] {\n    return this.products;\n  }\n\n  getHeaders(): NutrientItem[] {\n    return this.headers;\n  }\n}\n\nexport const FoodItemService = new FoodItemSingleton();\n","import { FieldType, FoodItemService } from '@/helpers/food-item.service';\nimport { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { extendFoodItemByProperty } from '@/helpers/utils';\n\nexport type TFieldType = 'TextField' | 'NumberField' | 'SelectField' | '';\n\nexport function getHeaderType(type?: FieldType): TFieldType {\n  switch (type) {\n    case FieldType.Text:\n      return 'TextField';\n    case FieldType.Number:\n      return 'NumberField';\n    case FieldType.Select:\n      return 'SelectField';\n  }\n  return '';\n}\n\n// TODO fix the product type to make it work properly\nexport function fillProductWithDefaults(product: any, headers: NutrientItem[]): FoodItemRecord {\n  return {\n    ...product,\n    ...headers.reduce((acc, header) => ({ ...acc, [header.property]: product[header.property] ?? 0 }), {}),\n  };\n}\n\nexport function getDefaultState(): { headers: NutrientItem[]; products: FoodItemRecord[]; tolerance: number } {\n  const headers = FoodItemService.getHeaders();\n  const products = FoodItemService.getProducts().map((product) => extendFoodItemByProperty(product));\n  const DEFAULT_TOLERANCE = 0.01;\n\n  return {\n    headers,\n    products,\n    tolerance: DEFAULT_TOLERANCE,\n  };\n}\n","import axios from 'axios';\nimport { ElLoading } from 'element-plus';\n\nexport type OpType = 'min' | 'max';\n\n// TODO add more options to optimize - but this will be some fancy stuff\n// TODO add more options ( actual lp solver options )\nexport function calculateFeedMix(\n  constraints: any,\n  variables: any,\n  params: { optimize: string; opType: OpType; options: { tolerance: number } },\n): Promise<any> {\n  const { optimize, opType, options } = params;\n  const lpProblemParams = {\n    optimize,\n    opType,\n    constraints,\n    variables,\n    options,\n  };\n  const loadingInstance = ElLoading.service({ fullscreen: true, lock: true });\n  return (\n    axios\n      .post('/api/calculate-feed-mix', lpProblemParams)\n      // TODO add error handling here\n      .then(({ data }) => data)\n      .finally(() => loadingInstance.close())\n  );\n}\n","\nimport { ElMessage } from 'element-plus';\nimport { computed, defineComponent, ref } from 'vue';\nimport TextField from '@/components/text-field/TextField.vue';\nimport AddButton from '@/components/add-button/AddButton.vue';\nimport NumberField from '@/components/number-field/NumberField.vue';\nimport SelectField from '@/components/select-field/SelectField.vue';\nimport { FieldMode } from '@/models/fieldMode';\nimport { alreadyExists } from '@/helpers/collection-helpers';\nimport FoodItemTable, { FoodItemModel } from '@/components/food-item-table/FoodItemTable.vue';\nimport { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { FieldType, FoodItemService, ForageType, getLimitsData, getLimitsHeaders } from '@/helpers/food-item.service';\nimport { fillProductWithDefaults, getDefaultState, getHeaderType } from '@/helpers/food-item-table';\nimport { calculateFeedMix } from '@/helpers/calculate-feed-mix-api';\nimport { extendFoodItemByProperty, getSuggestedPercentage } from '@/helpers/utils';\n\nexport default defineComponent({\n  name: 'ForageCalculator',\n  components: {\n    FoodItemTable,\n    TextField,\n    NumberField,\n    SelectField,\n    AddButton,\n  },\n  setup() {\n    const { headers: defaultHeaders, products: defaultProducts, tolerance: defaultTolerance } = getDefaultState();\n    const headers = ref(defaultHeaders);\n    const products = ref(defaultProducts);\n    const tolerance = ref(defaultTolerance);\n\n    const schema = computed(() =>\n      headers.value.map(\n        (header): FoodItemModel => ({\n          type: getHeaderType(header.type),\n          mode: FieldMode.Edit,\n          property: header.property,\n          label: header.label,\n          placeholder: header.label,\n        }),\n      ),\n    );\n\n    const ingredient = ref({\n      label: '',\n      percentage: 0,\n      cost: 0,\n    });\n    const nutrient = ref('');\n    const forageType = ref(ForageType.Grower);\n    const limitOptions: { value: ForageType; label: string }[] = [\n      { value: ForageType.Starter, label: 'Starter' },\n      { value: ForageType.Prester, label: 'Prester' },\n      { value: ForageType.Grower, label: 'Grower' },\n      { value: ForageType.Finiszer, label: 'Finiszer' },\n      { value: ForageType.Nioska, label: 'Nioska' },\n    ];\n    const chosenForage = computed(() =>\n      (limitOptions.find(({ value }) => value === forageType.value)?.label ?? '').toLowerCase(),\n    );\n    const limitsData = computed(() => {\n      // TODO this should only take into account current \"macros\"/\"headers\", not the hardcoded limits\n      const limits = FoodItemService.limits[forageType.value] ?? {};\n      return [getLimitsData(limits, 'min'), getLimitsData(limits, 'max')];\n    });\n    const limitsHeaders = computed(() => {\n      // TODO this should only take into account current \"macros\"/\"headers\", not the hardcoded limits\n      const limits = FoodItemService.limits[forageType.value] ?? {};\n      return getLimitsHeaders(limits, schema?.value);\n    });\n    let selectedProducts: FoodItemRecord[] = [];\n    const { singularColumns, doubleColumns } = headers.value.reduce(\n      (acc: { singularColumns: NutrientItem[]; doubleColumns: NutrientItem[] }, curr) => {\n        curr.ingredientValue ? acc.doubleColumns.push(curr) : acc.singularColumns.push(curr);\n        return acc;\n      },\n      { singularColumns: [], doubleColumns: [] },\n    );\n\n    return {\n      addSubstanceDialogVisible: ref(false),\n      addIngredientDialogVisible: ref(false),\n      schema,\n      headers,\n      products,\n      nutrient,\n      singularColumns,\n      doubleColumns,\n      ingredient,\n      forageType,\n      FieldMode,\n      ForageType,\n      chosenForage,\n      limitsData,\n      limitOptions,\n      limitsHeaders,\n      tolerance,\n      async calculateMinimalCostMix() {\n        if (selectedProducts.length === 0) {\n          ElMessage.error({\n            type: 'error',\n            showClose: true,\n            message: 'Należy wybrać produkty do wyliczenia mieszanki',\n          });\n          return;\n        }\n        const variables = selectedProducts.reduce((acc: { [key: string]: FoodItemRecord }, curr: FoodItemRecord): {\n          [key: string]: FoodItemRecord;\n        } => {\n          acc[curr.property ?? ''] = curr;\n          return acc;\n        }, {});\n        const constraints = {\n          ...FoodItemService.limits[forageType.value],\n        };\n        try {\n          const suggestedMix = await calculateFeedMix(constraints, variables, {\n            optimize: 'cost',\n            opType: 'min',\n            options: { tolerance: tolerance.value },\n          });\n          if (suggestedMix.feasible) {\n            ElMessage.success({\n              type: 'success',\n              showClose: true,\n              message: 'Pomyślnie wyznaczono składniki',\n            });\n            products.value.forEach((product) => {\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              const { feasible, bounded, result, ...rest } = suggestedMix;\n\n              product.percentage = getSuggestedPercentage(rest, product);\n            });\n          } else {\n            ElMessage.error({\n              type: 'error',\n              showClose: true,\n              message: 'Nie udało się znaleźć rozwiązania dla wybranych składników',\n            });\n          }\n        } catch (e) {\n          ElMessage.error({\n            type: 'error',\n            showClose: true,\n            message: 'Błąd połączenia z serwerem. Proszę spróbować ponownie później.',\n          });\n        }\n      },\n      resetToDefaults() {\n        const { products: defaultProducts, headers: defaultHeaders } = getDefaultState();\n        products.value = defaultProducts as any;\n        headers.value = defaultHeaders;\n      },\n      updateSelected(products: FoodItemRecord[]): void {\n        selectedProducts = products;\n      },\n      removeProduct(product: FoodItemRecord): void {\n        products.value = products.value.filter(({ label }) => label !== product.label);\n      },\n      addNutrient() {\n        const newNutrient: NutrientItem = {\n          label: nutrient.value,\n          property: nutrient.value,\n          type: FieldType.Number,\n          ingredientValue: true,\n        };\n        if (!nutrient.value || alreadyExists(headers.value, newNutrient)) {\n          return;\n        }\n\n        headers.value = [...headers.value, newNutrient];\n        products.value = products.value.map((product) => ({\n          ...product,\n          ...fillProductWithDefaults(product, headers.value),\n        }));\n        nutrient.value = '';\n      },\n      addIngredient() {\n        if (!ingredient.value.label || alreadyExists(products.value, ingredient.value as any)) {\n          return;\n        }\n\n        ingredient.value = extendFoodItemByProperty(ingredient.value) as any;\n\n        products.value = [...products.value, fillProductWithDefaults(ingredient.value, headers.value)] as any;\n        ingredient.value = {\n          label: '',\n          percentage: 0,\n          cost: 0,\n        };\n      },\n    };\n  },\n});\n","import { render } from \"./ForageCalculatorPage.vue?vue&type=template&id=da6bfc46\"\nimport script from \"./ForageCalculatorPage.vue?vue&type=script&lang=ts\"\nexport * from \"./ForageCalculatorPage.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from 'vue';\nimport ForageCalculatorPage from '@/components/forage-calculator-page/ForageCalculatorPage.vue';\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    ForageCalculatorPage,\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=51cbeb58\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=51cbeb58&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue';\nimport {\n  ElButton,\n  ElContainer,\n  ElDialog,\n  ElDivider,\n  ElHeader,\n  ElIcon,\n  ElPopconfirm,\n  ElPopover,\n  ElPopper,\n  ElTable,\n  ElTableColumn,\n} from 'element-plus';\nimport App from './App.vue';\n\nimport '@/css/variables.css';\nimport '@/css/utils.css';\n\nimport '@/css/form.css';\nimport '@/css/containers.css';\n\nimport '@/css/main.css';\n\ncreateApp(App)\n  .component(ElTableColumn.name, ElTableColumn)\n  .component(ElPopconfirm.name, ElPopconfirm)\n  .component(ElContainer.name, ElContainer)\n  .component(ElDivider.name, ElDivider)\n  .component(ElPopover.name, ElPopover)\n  .component(ElPopper.name, ElPopper)\n  .component(ElHeader.name, ElHeader)\n  .component(ElDialog.name, ElDialog)\n  .component(ElButton.name, ElButton)\n  .component(ElTable.name, ElTable)\n  .component(ElIcon.name, ElIcon)\n  .mount('#app');\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=51cbeb58&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FoodItemTable.vue?vue&type=style&index=0&id=188c9480&scoped=true&lang=css\""],"sourceRoot":""}