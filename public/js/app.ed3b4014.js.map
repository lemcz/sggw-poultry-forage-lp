{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?bdb7","webpack:///./src/App.vue","webpack:///./src/components/forage-calculator-page/ForageCalculatorPage.vue","webpack:///./src/models/fieldMode.ts","webpack:///./src/components/text-field/TextField.vue","webpack:///./src/components/text-field/TextField.vue?36d3","webpack:///./src/components/add-button/AddButton.vue","webpack:///./src/components/add-button/AddButton.vue?ec9f","webpack:///./src/components/number-field/NumberField.vue","webpack:///./src/components/number-field/NumberField.vue?c60a","webpack:///./src/components/select-field/SelectField.vue","webpack:///./src/components/select-field/SelectField.vue?78de","webpack:///./src/helpers/collection-helpers.ts","webpack:///./src/components/food-item-table/FoodItemTable.vue","webpack:///./src/helpers/utils.ts","webpack:///./src/components/food-item-table/FoodItemTable.vue?7e87","webpack:///./src/components/food-item-table/FoodItemTable.vue?7868","webpack:///./src/helpers/food-item.service.ts","webpack:///./src/helpers/food-item-table.ts","webpack:///./src/helpers/calculate-feed-mix-api.ts","webpack:///./src/components/forage-calculator-page/ForageCalculatorPage.vue?a162","webpack:///./src/components/forage-calculator-page/ForageCalculatorPage.vue?5dc9","webpack:///./src/App.vue?1d14","webpack:///./src/App.vue?97f5","webpack:///./src/main.ts","webpack:///./src/components/forage-calculator-page/ForageCalculatorPage.vue?76bf"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","style","class","FieldMode","model","products","config","updateSelected","removeProduct","addNutrient","nutrient","label","Edit","type","addIngredient","schema","field","ingredient","forageType","options","limitOptions","tolerance","max","step","calculateMinimalCostMix","resetToDefaults","chosenForage","border","limitsData","limitsHeaders","limitHeader","prop","for","Mode","$emit","$event","target","modelValue","id","placeholder","View","props","setup","render","native-type","handleInput","min","parseFloat","isNaN","multiple","multi","option","alreadyExists","collection","item","some","collectionItem","isEqual","sum-text","max-height","toggleRowSelection","show-summary","summary-method","getSummaries","singularColumns","header","default","scope","row","doubleColumns","getMixValueCell","size","handleDelete","$index","icon","convertLabelToProperty","toLowerCase","split","join","extendFoodItemByProperty","sumNumeric","values","reduce","prev","curr","Number","getSuggestedPercentage","suggestedValues","totalIngredientsAmount","suggestedValue","PRECISION","toFixed","formatNumberToDisplay","Array","components","NumberField","emits","emit","getMixValue","product","percentage","selectedItems","columns","map","column","idx","no","every","FieldType","ForageType","getLimitsData","limits","limit","keys","acc","getLimitsHeaders","firstColumn","headers","Text","ingredientValue","Starter","energy","protein","lysine","methionine","tryptophan","fiber","calcium","phosphorus","sodium","Grower","Nioska","cost","dryWeight","arginine","this","FoodItemService","getHeaderType","Select","fillProductWithDefaults","getDefaultState","getHeaders","getProducts","DEFAULT_TOLERANCE","calculateFeedMix","constraints","variables","params","optimize","opType","lpProblemParams","loadingInstance","service","fullscreen","lock","a","post","then","finally","close","FoodItemTable","TextField","SelectField","AddButton","defaultHeaders","defaultProducts","defaultTolerance","Prester","Finiszer","find","selectedProducts","error","showClose","message","suggestedMix","feasible","success","forEach","bounded","rest","filter","newNutrient","__scopeId","ForageCalculatorPage","App","component","mount"],"mappings":"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","file":"js/app.ed3b4014.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=44d46a6a&lang=css\"","<template>\n  <ForageCalculatorPage />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport ForageCalculatorPage from '@/components/forage-calculator-page/ForageCalculatorPage.vue';\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    ForageCalculatorPage,\n  },\n});\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","<template>\n  <el-container>\n    <el-header><h1>Kalkulator receptur mieszanek dla drobiu</h1></el-header>\n    <div style=\"margin: 15px;\">\n      <FoodItemTable\n        v-bind:model=\"products\"\n        v-bind:config=\"{\n          singularColumns,\n          doubleColumns,\n        }\"\n        @select-change=\"updateSelected\"\n        @product-remove=\"removeProduct\"\n      ></FoodItemTable>\n    </div>\n    <div class=\"container\">\n      <div style=\"width: 180px;\">\n        <form v-on:submit.prevent=\"addNutrient()\">\n          <TextField v-model=\"nutrient\" :label=\"'Składnik odżywczy'\" :mode=\"FieldMode.Edit\"></TextField>\n          <div class=\"flex mt-mid\"><AddButton :type=\"'primary'\" /></div>\n        </form>\n      </div>\n      <div class=\"ml-mid\">\n        <form class=\"flex-column\" v-on:submit.prevent=\"addIngredient()\">\n          <div class=\"flex-wrap\">\n            <component\n              class=\"ml-mid\"\n              v-for=\"field in schema\"\n              :key=\"field.property\"\n              :is=\"field.type\"\n              v-model=\"ingredient[field.property]\"\n              v-bind=\"field\"\n            ></component>\n          </div>\n          <div class=\"flex m-mid\"><AddButton :type=\"'primary'\" /></div>\n        </form>\n      </div>\n    </div>\n    <div class=\"container\">\n      <SelectField\n        style=\"width: 180px;\"\n        v-model=\"forageType\"\n        :label=\"'Typ paszy'\"\n        :mode=\"FieldMode.Edit\"\n        :options=\"limitOptions\"\n      ></SelectField>\n      <NumberField\n        class=\"ml-mid\"\n        style=\"width: 180px;\"\n        :label=\"'Tolerancja błędu wyniku'\"\n        v-model=\"tolerance\"\n        :mode=\"FieldMode.Edit\"\n        :max=\"1\"\n        :step=\"0.01\"\n      ></NumberField>\n      <el-button class=\"ml-mid\" type=\"success\" v-on:click=\"calculateMinimalCostMix()\">\n        Wyznacz automatycznie\n      </el-button>\n      <el-button type=\"info\" v-on:click=\"resetToDefaults()\">Reset danych</el-button>\n    </div>\n    <div class=\"container flex-column\">\n      <h3>\n        Zalecane w 1 kg paszy dla grupy produkcyjnej\n        <strong>{{ chosenForage }}</strong>\n        :\n      </h3>\n      <el-table border :data=\"limitsData\">\n        <el-table-column\n          v-for=\"limitHeader in limitsHeaders\"\n          v-bind:key=\"limitHeader.property\"\n          :prop=\"limitHeader.property\"\n          :label=\"limitHeader.label\"\n        >\n        </el-table-column>\n      </el-table>\n    </div>\n  </el-container>\n</template>\n\n<script lang=\"ts\">\nimport { ElMessage } from 'element-plus';\nimport { computed, defineComponent, ref } from 'vue';\nimport TextField from '@/components/text-field/TextField.vue';\nimport AddButton from '@/components/add-button/AddButton.vue';\nimport NumberField from '@/components/number-field/NumberField.vue';\nimport SelectField from '@/components/select-field/SelectField.vue';\nimport { FieldMode } from '@/models/fieldMode';\nimport { alreadyExists } from '@/helpers/collection-helpers';\nimport FoodItemTable, { FoodItemModel } from '@/components/food-item-table/FoodItemTable.vue';\nimport { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { FieldType, FoodItemService, ForageType, getLimitsData, getLimitsHeaders } from '@/helpers/food-item.service';\nimport { fillProductWithDefaults, getDefaultState, getHeaderType } from '@/helpers/food-item-table';\nimport { calculateFeedMix } from '@/helpers/calculate-feed-mix-api';\nimport { getSuggestedPercentage } from '@/helpers/utils';\n\nexport default defineComponent({\n  name: 'ForageCalculator',\n  components: {\n    FoodItemTable,\n    TextField,\n    NumberField,\n    SelectField,\n    AddButton,\n  },\n  setup() {\n    const { headers: defaultHeaders, products: defaultProducts, tolerance: defaultTolerance } = getDefaultState();\n    const headers = ref(defaultHeaders);\n    const products = ref(defaultProducts);\n    const tolerance = ref(defaultTolerance);\n\n    const schema = computed(() =>\n      headers.value.map(\n        (header): FoodItemModel => ({\n          type: getHeaderType(header.type),\n          mode: FieldMode.Edit,\n          property: header.property,\n          label: header.label,\n          placeholder: header.label,\n        }),\n      ),\n    );\n\n    const ingredient = ref({\n      label: 'Foobar',\n      percentage: 10,\n      cost: 420,\n    });\n    const nutrient = ref('');\n    // TODO edit the cells in the table on click (values/1kg for specific products)\n\n    const forageType = ref(ForageType.Grower);\n    const limitOptions: { value: ForageType; label: string }[] = [\n      { value: ForageType.Starter, label: 'Starter' },\n      { value: ForageType.Prester, label: 'Prester' },\n      { value: ForageType.Grower, label: 'Grower' },\n      { value: ForageType.Finiszer, label: 'Finiszer' },\n      { value: ForageType.Nioska, label: 'Nioska' },\n    ];\n    const chosenForage = computed(() =>\n      (limitOptions.find(({ value }) => value === forageType.value)?.label ?? '').toLowerCase(),\n    );\n    const limitsData = computed(() => {\n      // TODO this should only take into account current \"macros\"/\"headers\", not the hardcoded limits\n      const limits = FoodItemService.limits[forageType.value] ?? {};\n      return [getLimitsData(limits, 'min'), getLimitsData(limits, 'max')];\n    });\n    const limitsHeaders = computed(() => {\n      // TODO this should only take into account current \"macros\"/\"headers\", not the hardcoded limits\n      const limits = FoodItemService.limits[forageType.value] ?? {};\n      return getLimitsHeaders(limits, schema?.value);\n    });\n    let selectedProducts: FoodItemRecord[] = [];\n    const { singularColumns, doubleColumns } = headers.value.reduce(\n      (acc: { singularColumns: NutrientItem[]; doubleColumns: NutrientItem[] }, curr) => {\n        curr.ingredientValue ? acc.doubleColumns.push(curr) : acc.singularColumns.push(curr);\n        return acc;\n      },\n      { singularColumns: [], doubleColumns: [] },\n    );\n\n    return {\n      schema,\n      headers,\n      products,\n      nutrient,\n      singularColumns,\n      doubleColumns,\n      ingredient,\n      forageType,\n      FieldMode,\n      ForageType,\n      chosenForage,\n      limitsData,\n      limitOptions,\n      limitsHeaders,\n      tolerance,\n      async calculateMinimalCostMix() {\n        if (selectedProducts.length === 0) {\n          ElMessage.error({\n            type: 'error',\n            showClose: true,\n            message: 'Należy wybrać produkty do wyliczenia mieszanki',\n          });\n          return;\n        }\n        const variables = selectedProducts.reduce((acc: { [key: string]: FoodItemRecord }, curr: FoodItemRecord): {\n          [key: string]: FoodItemRecord;\n        } => {\n          acc[curr.property ?? ''] = curr;\n          return acc;\n        }, {});\n        const constraints = {\n          ...FoodItemService.limits[forageType.value],\n        };\n        try {\n          const suggestedMix = await calculateFeedMix(constraints, variables, {\n            optimize: 'cost',\n            opType: 'min',\n            options: { tolerance: tolerance.value },\n          });\n          if (suggestedMix.feasible) {\n            ElMessage.success({\n              type: 'success',\n              showClose: true,\n              message: 'Pomyślnie wyznaczono składniki',\n            });\n            products.value.forEach((product) => {\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              const { feasible, bounded, result, ...rest } = suggestedMix;\n\n              product.percentage = getSuggestedPercentage(rest, product);\n            });\n          } else {\n            ElMessage.error({\n              type: 'error',\n              showClose: true,\n              message: 'Nie udało się znaleźć rozwiązania dla wybranych składników',\n            });\n          }\n        } catch (e) {\n          ElMessage.error({\n            type: 'error',\n            showClose: true,\n            message: 'Błąd połączenia z serwerem. Proszę spróbować ponownie później.',\n          });\n        }\n      },\n      resetToDefaults() {\n        const { products: defaultProducts, headers: defaultHeaders } = getDefaultState();\n        products.value = defaultProducts as any;\n        headers.value = defaultHeaders;\n      },\n      updateSelected(products: FoodItemRecord[]): void {\n        selectedProducts = products;\n      },\n      removeProduct(product: FoodItemRecord): void {\n        products.value = products.value.filter(({ label }) => label !== product.label);\n      },\n      addNutrient() {\n        const newNutrient: NutrientItem = {\n          label: nutrient.value,\n          property: nutrient.value,\n          type: FieldType.Number,\n          ingredientValue: true,\n        };\n        if (!nutrient.value || alreadyExists(headers.value, newNutrient)) {\n          return;\n        }\n\n        headers.value = [...headers.value, newNutrient];\n        products.value = products.value.map((product) => ({\n          ...product,\n          ...fillProductWithDefaults(product, headers.value),\n        }));\n        nutrient.value = '';\n      },\n      addIngredient() {\n        if (!ingredient.value.label || alreadyExists(products.value, ingredient.value as any)) {\n          return;\n        }\n\n        products.value = [...products.value, fillProductWithDefaults(ingredient.value, headers.value)] as any;\n        ingredient.value = {\n          label: '',\n          percentage: 0,\n          cost: 0,\n        };\n      },\n    };\n  },\n});\n</script>\n\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\n</style>\n","export enum FieldMode {\n  View,\n  Edit,\n}\n","<template>\n  <div class=\"form-input\">\n    <label :for=\"property\" v-if=\"label\">\n      <span>{{ label }}</span>\n    </label>\n    <input\n      type=\"text\"\n      v-if=\"mode === Mode.Edit\"\n      v-on:input=\"$emit('update:modelValue', $event.target.value)\"\n      :value=\"modelValue\"\n      :id=\"property\"\n      :name=\"property\"\n      :placeholder=\"placeholder\"\n    />\n    <span v-if=\"mode === Mode.View\">\n      {{ value }}\n    </span>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport { FieldMode } from '@/models/fieldMode';\n\nexport default defineComponent({\n  name: 'TextField',\n  props: ['property', 'label', 'placeholder', 'mode', 'modelValue'],\n  setup() {\n    return {\n      Mode: FieldMode,\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n","import { render } from \"./TextField.vue?vue&type=template&id=9e85a3ec\"\nimport script from \"./TextField.vue?vue&type=script&lang=js\"\nexport * from \"./TextField.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <el-button :type=\"type\" :native-type=\"'submit'\">\n    <span>Dodaj</span>\n  </el-button>\n</template>\n\n<script>\nexport default {\n  name: 'add-button',\n  props: ['type'],\n};\n</script>\n\n<style scoped></style>\n","import { render } from \"./AddButton.vue?vue&type=template&id=0198363a\"\nimport script from \"./AddButton.vue?vue&type=script&lang=js\"\nexport * from \"./AddButton.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"form-input\">\n    <label :for=\"property\" v-if=\"label\">\n      <span>{{ label }}</span>\n    </label>\n    <input\n      type=\"number\"\n      v-if=\"mode === Mode.Edit\"\n      v-on:input=\"$emit('update:modelValue', handleInput($event))\"\n      :value=\"modelValue\"\n      :id=\"property\"\n      :name=\"property\"\n      :step=\"step\"\n      :max=\"max\"\n      :min=\"min ?? 0\"\n      :placeholder=\"placeholder\"\n    />\n    <span v-if=\"mode === Mode.View\">\n      {{ modelValue }}\n    </span>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport { FieldMode } from '@/models/fieldMode';\n\nexport default defineComponent({\n  name: 'NumberInput',\n  props: ['property', 'label', 'placeholder', 'mode', 'modelValue', 'min', 'max', 'step'],\n  setup() {\n    return {\n      Mode: FieldMode,\n      handleInput($event) {\n        const max = parseFloat($event.target.max);\n        const min = parseFloat($event.target.min);\n        const value = parseFloat($event.target.value);\n        if (!isNaN(max) && value > max) {\n          $event.target.value = max;\n        }\n        if (!isNaN(min) && value < min) {\n          $event.target.value = min;\n        }\n        return $event.target.value ? parseFloat($event.target.value) : $event.target.value;\n      },\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n","import { render } from \"./NumberField.vue?vue&type=template&id=208167a8\"\nimport script from \"./NumberField.vue?vue&type=script&lang=js\"\nexport * from \"./NumberField.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"form-input\">\n    <label :for=\"property\" v-if=\"label\">\n      <span>{{ label }}</span>\n    </label>\n    <select\n      :id=\"property\"\n      :name=\"property\"\n      :multiple=\"multi\"\n      :value=\"modelValue\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n      <option v-for=\"option in options\" :key=\"option.value\" :value=\"option.value\">\n        {{ option.label }}\n      </option>\n    </select>\n    <span v-if=\"mode === Mode.View\">\n      {{ modelValue }}\n    </span>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport { FieldMode } from '@/models/fieldMode';\n\nexport default defineComponent({\n  name: 'SelectField',\n  props: ['property', 'label', 'mode', 'multi', 'modelValue', 'options'],\n  setup() {\n    return {\n      Mode: FieldMode,\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n","import { render } from \"./SelectField.vue?vue&type=template&id=4b8e497c\"\nimport script from \"./SelectField.vue?vue&type=script&lang=js\"\nexport * from \"./SelectField.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { isEqual } from 'lodash-es';\n\nexport function alreadyExists<T>(collection: T[], item: T): boolean {\n  return collection.some((collectionItem) => isEqual(collectionItem, item));\n}\n","<template>\n  <el-table\n    sum-text=\"Suma\"\n    max-height=\"740\"\n    :data=\"model\"\n    @selection-change=\"toggleRowSelection\"\n    show-summary\n    :summary-method=\"getSummaries\"\n  >\n    <el-table-column type=\"selection\"></el-table-column>\n    <el-table-column\n      v-for=\"header in config.singularColumns\"\n      v-bind:key=\"header.property\"\n      :label=\"header.label\"\n      :prop=\"header.property\"\n    >\n      <template #default=\"scope\">\n        <span v-if=\"header.property !== 'percentage'\">\n          {{ scope.row[header.property] }}\n        </span>\n        <component\n          v-if=\"header.property === 'percentage'\"\n          :key=\"header.property\"\n          :is=\"'NumberField'\"\n          :mode=\"FieldMode.Edit\"\n          v-model=\"scope.row[header.property]\"\n          :min=\"0\"\n          :max=\"100\"\n        ></component>\n      </template>\n    </el-table-column>\n    <el-table-column v-for=\"header in config.doubleColumns\" v-bind:key=\"header.property\" :label=\"header.label\">\n      <el-table-column label=\"/ 1kg\" :prop=\"header.property\"></el-table-column>\n      <el-table-column label=\"w mieszance\" :prop=\"header.property\">\n        <template #default=\"scope\">\n          <span class=\"ml-mid\">{{ getMixValueCell(scope.row, header) }}</span>\n        </template>\n      </el-table-column>\n    </el-table-column>\n    <el-table-column label=\"Akcje\">\n      <template #default=\"scope\">\n        <el-button\n          size=\"mini\"\n          type=\"danger\"\n          @click=\"handleDelete(scope.$index, scope.row)\"\n          icon=\"el-icon-delete\"\n        ></el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { FoodItemRecord } from '@/models/foodItem.model';\nimport { TFieldType } from '@/helpers/food-item-table';\nimport { FieldMode } from '@/models/fieldMode';\nimport NumberField from '@/components/number-field/NumberField.vue';\nimport { formatNumberToDisplay, sumNumeric } from '@/helpers/utils';\n\nexport interface FoodItemModel {\n  type: TFieldType;\n  mode: FieldMode;\n  property: string;\n  label: string;\n  placeholder: string;\n}\n\n// TODO edit values in specific row when we click on an edit button\nexport default defineComponent({\n  name: 'FoodItemTable',\n  props: {\n    model: Array as () => FoodItemRecord[],\n    config: Object as () => { singularColumns: any[]; doubleColumns: any[] },\n  },\n  components: {\n    NumberField,\n  },\n  emits: ['select-change', 'product-remove'],\n  setup(props, { emit }) {\n    const getMixValue = (product: any, header: any): number => {\n      return formatNumberToDisplay(((product.percentage as number) * product[header.property]) / 100);\n    };\n\n    return {\n      handleDelete($index: number, row: FoodItemRecord): void {\n        emit('product-remove', row);\n      },\n      toggleRowSelection(selectedItems: FoodItemRecord[]): void {\n        emit('select-change', selectedItems);\n      },\n      getMixValueCell(product: any, header: any): number {\n        return getMixValue(product, header);\n      },\n      getSummaries({ columns, data }: any): (string | number)[] {\n        return columns.map((column: any, idx: number): string | number => {\n          if (idx === 0) return '';\n          if (idx === 1) return 'Suma';\n          // NOTE these are the columns which represent values / 1kg\n          if (column.no === 0) return '';\n\n          const values = data.map((item: any): number =>\n            column.property === 'percentage' ? Number(item[column.property]) : getMixValue(item, column),\n          );\n          if (!values.every((value: any) => isNaN(value))) {\n            return formatNumberToDisplay(sumNumeric(values));\n          }\n\n          return '';\n        });\n      },\n      FieldMode,\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n","import { FoodItemRecord } from '@/models/foodItem.model';\n\nexport function convertLabelToProperty(label = ''): string {\n  return label\n    .toLowerCase()\n    .split(' ')\n    .join('_');\n}\n\n// TODO move 'property' prop to the type / interface\nexport function extendFoodItemByProperty(item: FoodItemRecord): FoodItemRecord & { property: string } {\n  return {\n    ...item,\n    property: convertLabelToProperty(item.label as string),\n  };\n}\n\nexport function sumNumeric(values: number[]): number {\n  return values.reduce((prev: number, curr: any): number => {\n    const value = Number(curr);\n    return isNaN(value) ? prev : prev + curr;\n  }, 0);\n}\n\nexport function getSuggestedPercentage(suggestedValues: { [key: string]: number }, item: any): number {\n  const totalIngredientsAmount = sumNumeric(Object.values(suggestedValues));\n\n  const suggestedValue = suggestedValues?.[item?.property];\n  if (suggestedValue) {\n    const PRECISION = 8;\n    return parseFloat(((suggestedValue * 100) / totalIngredientsAmount).toFixed(PRECISION));\n  }\n  return 0;\n}\n\nexport function formatNumberToDisplay(value: number): number {\n  return parseFloat(value.toFixed(2));\n}\n","\nimport { defineComponent } from 'vue';\nimport { FoodItemRecord } from '@/models/foodItem.model';\nimport { TFieldType } from '@/helpers/food-item-table';\nimport { FieldMode } from '@/models/fieldMode';\nimport NumberField from '@/components/number-field/NumberField.vue';\nimport { formatNumberToDisplay, sumNumeric } from '@/helpers/utils';\n\nexport interface FoodItemModel {\n  type: TFieldType;\n  mode: FieldMode;\n  property: string;\n  label: string;\n  placeholder: string;\n}\n\n// TODO edit values in specific row when we click on an edit button\nexport default defineComponent({\n  name: 'FoodItemTable',\n  props: {\n    model: Array as () => FoodItemRecord[],\n    config: Object as () => { singularColumns: any[]; doubleColumns: any[] },\n  },\n  components: {\n    NumberField,\n  },\n  emits: ['select-change', 'product-remove'],\n  setup(props, { emit }) {\n    const getMixValue = (product: any, header: any): number => {\n      return formatNumberToDisplay(((product.percentage as number) * product[header.property]) / 100);\n    };\n\n    return {\n      handleDelete($index: number, row: FoodItemRecord): void {\n        emit('product-remove', row);\n      },\n      toggleRowSelection(selectedItems: FoodItemRecord[]): void {\n        emit('select-change', selectedItems);\n      },\n      getMixValueCell(product: any, header: any): number {\n        return getMixValue(product, header);\n      },\n      getSummaries({ columns, data }: any): (string | number)[] {\n        return columns.map((column: any, idx: number): string | number => {\n          if (idx === 0) return '';\n          if (idx === 1) return 'Suma';\n          // NOTE these are the columns which represent values / 1kg\n          if (column.no === 0) return '';\n\n          const values = data.map((item: any): number =>\n            column.property === 'percentage' ? Number(item[column.property]) : getMixValue(item, column),\n          );\n          if (!values.every((value: any) => isNaN(value))) {\n            return formatNumberToDisplay(sumNumeric(values));\n          }\n\n          return '';\n        });\n      },\n      FieldMode,\n    };\n  },\n});\n","import { render } from \"./FoodItemTable.vue?vue&type=template&id=42b07948\"\nimport script from \"./FoodItemTable.vue?vue&type=script&lang=ts\"\nexport * from \"./FoodItemTable.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { FoodItemModel } from '@/components/food-item-table/FoodItemTable.vue';\n\nexport enum FieldType {\n  Text = 'text',\n  Number = 'number',\n  Select = 'select',\n}\n\nexport enum ForageType {\n  Prester = 'prester',\n  Starter = 'starter',\n  Grower = 'grower',\n  Finiszer = 'finiszer',\n  Nioska = 'nioska',\n}\n\nexport function getLimitsData(limits: ForageTypeLimits, type: 'min' | 'max') {\n  return {\n    limit: type,\n    ...Object.keys(limits).reduce((acc: { [key: string]: number | string }, curr) => {\n      acc[curr] = (limits as any)[curr][type] ?? '-';\n      return acc;\n    }, {}),\n  };\n}\n\nexport function getLimitsHeaders(\n  limits: ForageTypeLimits,\n  collection: any[] = [],\n): { property: string; label: string }[] {\n  const firstColumn = {\n    property: 'limit',\n    label: '',\n  };\n\n  return (\n    collection.reduce(\n      (\n        acc: { property: string; label: string }[],\n        { property, label }: FoodItemModel,\n      ): { property: string; label: string }[] => {\n        if (!(limits as any)[property]) {\n          return acc;\n        }\n\n        return [\n          ...acc,\n          {\n            property,\n            label,\n          },\n        ];\n      },\n      [firstColumn],\n    ) ?? []\n  );\n}\n\nexport type NutrientItemProperty = string;\n// TODO find a way to reflect that Record implements some keys of a ForageType\nexport type ForageTypeLimits = {\n  [P in ForageType]?: Record<NutrientItemProperty, { min?: number; max?: number }>;\n};\n\nclass FoodItemSingleton {\n  // TODO find a common object for property name and display label - headers & limits\n  headers: NutrientItem[] = [\n    { label: 'Produkt', property: 'label', type: FieldType.Text, ingredientValue: false },\n    { label: '%', property: 'percentage', type: FieldType.Number, ingredientValue: false },\n    { label: 'Cena', property: 'cost', type: FieldType.Number, ingredientValue: true },\n    { label: 'Sucha masa', property: 'dryWeight', type: FieldType.Number, ingredientValue: true },\n    { label: 'Energia', property: 'energy', type: FieldType.Number, ingredientValue: true },\n    { label: 'Białko ogólne (g)', property: 'protein', type: FieldType.Number, ingredientValue: true },\n    { label: 'Lizyna (g)', property: 'lysine', type: FieldType.Number, ingredientValue: true },\n    { label: 'Metionina (g)', property: 'methionine', type: FieldType.Number, ingredientValue: true },\n    { label: 'Tryptofan (g)', property: 'tryptophan', type: FieldType.Number, ingredientValue: true },\n    { label: 'Arginina (g)', property: 'arginine', type: FieldType.Number, ingredientValue: true },\n    { label: 'Włókno (g)', property: 'fiber', type: FieldType.Number, ingredientValue: true },\n    { label: 'Ca (g)', property: 'calcium', type: FieldType.Number, ingredientValue: true },\n    { label: 'P ogólny (g)', property: 'phosphorus', type: FieldType.Number, ingredientValue: true },\n    { label: 'Na (g)', property: 'sodium', type: FieldType.Number, ingredientValue: true },\n  ];\n\n  limits: ForageTypeLimits = {\n    [ForageType.Starter]: {\n      energy: {\n        min: 12.1,\n        max: 12.9,\n      },\n      protein: {\n        min: 210,\n        max: 224,\n      },\n      lysine: {\n        min: 13,\n      },\n      methionine: {\n        min: 6.5,\n      },\n      tryptophan: {\n        min: 2.2,\n      },\n      fiber: {\n        max: 40,\n      },\n      calcium: {\n        min: 10,\n      },\n      phosphorus: {\n        min: 6.5,\n      },\n      sodium: {\n        min: 0.15,\n      },\n    },\n    [ForageType.Grower]: {\n      energy: {\n        min: 12.3,\n        max: 13.4,\n      },\n      protein: {\n        min: 193,\n        max: 200,\n      },\n      lysine: {\n        min: 14,\n      },\n      methionine: {\n        min: 7,\n      },\n      tryptophan: {\n        min: 2,\n      },\n      fiber: {\n        max: 40,\n      },\n      calcium: {\n        min: 10,\n      },\n      phosphorus: {\n        min: 6.3,\n      },\n      sodium: {\n        min: 0.15,\n      },\n    },\n    [ForageType.Nioska]: {\n      energy: {\n        min: 11.3,\n        max: 11.7,\n      },\n      protein: {\n        min: 155,\n        max: 175,\n      },\n      lysine: {\n        min: 9,\n      },\n      methionine: {\n        min: 3.5,\n      },\n      tryptophan: {\n        min: 1.7,\n      },\n      fiber: {\n        max: 40,\n      },\n      calcium: {\n        min: 32,\n      },\n      phosphorus: {\n        min: 5.5,\n      },\n      sodium: {\n        min: 0.15,\n      },\n    },\n  };\n\n  products: FoodItemRecord[] = [\n    {\n      label: 'Śruta jęczmienna',\n      percentage: 0,\n      cost: 22.6,\n      dryWeight: 880,\n      energy: 11.85,\n      protein: 111,\n      lysine: 3.88,\n      methionine: 1.8,\n      tryptophan: 1.3,\n      arginine: 5.1,\n      fiber: 48,\n      calcium: 0.4,\n      phosphorus: 3.7,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta pszenna',\n      percentage: 0,\n      cost: 18.3,\n      dryWeight: 880,\n      energy: 12.85,\n      protein: 118,\n      lysine: 3.54,\n      methionine: 1.8,\n      tryptophan: 1.3,\n      arginine: 5.3,\n      fiber: 29,\n      calcium: 0.7,\n      phosphorus: 3.7,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta pszenżytnia',\n      percentage: 0,\n      cost: 30,\n      dryWeight: 880,\n      energy: 12.6,\n      protein: 120,\n      lysine: 3.8,\n      methionine: 1.8,\n      tryptophan: 1.2,\n      arginine: 5.2,\n      fiber: 24,\n      calcium: 0.4,\n      phosphorus: 3.7,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta kukurydziana',\n      percentage: 0,\n      cost: 25,\n      dryWeight: 880,\n      energy: 13.75,\n      protein: 93,\n      lysine: 2.61,\n      methionine: 1.8,\n      tryptophan: 0.6,\n      arginine: 3.9,\n      fiber: 29,\n      calcium: 0.4,\n      phosphorus: 2.6,\n      sodium: 0.2,\n    },\n    {\n      label: 'Śruta z owsa',\n      percentage: 0,\n      cost: 28,\n      dryWeight: 880,\n      energy: 10.75,\n      protein: 114,\n      lysine: 4.57,\n      methionine: 1.8,\n      tryptophan: 1.2,\n      arginine: 6.8,\n      fiber: 89,\n      calcium: 0.7,\n      phosphorus: 3.7,\n      sodium: 0.6,\n    },\n    {\n      label: 'Otręby pszenne',\n      percentage: 0,\n      cost: 15,\n      dryWeight: 880,\n      energy: 8.5,\n      protein: 143,\n      lysine: 5.74,\n      methionine: 2.7,\n      tryptophan: 2.6,\n      arginine: 9.8,\n      fiber: 63,\n      calcium: 1.1,\n      phosphorus: 10.2,\n      sodium: 0.3,\n    },\n    {\n      label: 'Śruta z bobiku',\n      percentage: 0,\n      cost: 20,\n      dryWeight: 880,\n      energy: 10.1,\n      protein: 268,\n      lysine: 17.7,\n      methionine: 1.9,\n      tryptophan: 2.3,\n      arginine: 23.9,\n      fiber: 73,\n      calcium: 1.2,\n      phosphorus: 5.3,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta z łubinu żółtego',\n      percentage: 0,\n      cost: 18,\n      dryWeight: 880,\n      energy: 8.3,\n      protein: 390,\n      lysine: 19.5,\n      methionine: 2.5,\n      tryptophan: 3.1,\n      arginine: 43.1,\n      fiber: 135,\n      calcium: 2.4,\n      phosphorus: 7.1,\n      sodium: 0.1,\n    },\n    {\n      label: 'Śruta z grochu',\n      percentage: 0,\n      cost: 20,\n      dryWeight: 880,\n      energy: 10.35,\n      protein: 209,\n      lysine: 15.6,\n      methionine: 2,\n      tryptophan: 2.2,\n      arginine: 18.3,\n      fiber: 60,\n      calcium: 0.8,\n      phosphorus: 3.6,\n      sodium: 0.1,\n    },\n    {\n      label: 'Pełnotłusta śruta z rzepaku',\n      percentage: 0,\n      cost: 28,\n      dryWeight: 930,\n      energy: 18.85,\n      protein: 192,\n      lysine: 12.4,\n      methionine: 4,\n      tryptophan: 2.8,\n      arginine: 13.6,\n      fiber: 101,\n      calcium: 3.4,\n      phosphorus: 7,\n      sodium: 0.2,\n    },\n    {\n      label: 'Pełnotlusta soja ekstrudowana',\n      percentage: 0,\n      cost: 28,\n      dryWeight: 930,\n      energy: 13.55,\n      protein: 350,\n      lysine: 20.7,\n      methionine: 4.7,\n      tryptophan: 4.6,\n      arginine: 24.8,\n      fiber: 64,\n      calcium: 2.6,\n      phosphorus: 6.2,\n      sodium: 0.3,\n    },\n    {\n      label: 'Śruta poekstrakcyjna rzepakowa',\n      percentage: 0,\n      cost: 20,\n      dryWeight: 880,\n      energy: 7.45,\n      protein: 340,\n      lysine: 18.2,\n      methionine: 6.9,\n      tryptophan: 4.5,\n      arginine: 20.4,\n      fiber: 112,\n      calcium: 6.6,\n      phosphorus: 11.2,\n      sodium: 0.4,\n    },\n    {\n      label: 'Śruta poekstrakcyjna sojowa (42-46)',\n      percentage: 0,\n      cost: 27,\n      dryWeight: 880,\n      energy: 8.6,\n      protein: 420,\n      lysine: 26.1,\n      methionine: 5.6,\n      tryptophan: 5.2,\n      arginine: 34.5,\n      fiber: 102,\n      calcium: 3.5,\n      phosphorus: 5.4,\n      sodium: 0.4,\n    },\n    {\n      label: 'Śruta poekstrakcyjna sojowa (>46 b.o.)',\n      percentage: 0,\n      cost: 13,\n      dryWeight: 880,\n      energy: 9,\n      protein: 466,\n      lysine: 27.5,\n      methionine: 6.5,\n      tryptophan: 6.2,\n      arginine: 35.5,\n      fiber: 78,\n      calcium: 3.5,\n      phosphorus: 5.4,\n      sodium: 0.4,\n    },\n    {\n      label: 'Śruta poekstrakcyjna słonecznikowa (obł)',\n      percentage: 0,\n      cost: 17,\n      dryWeight: 880,\n      energy: 6.5,\n      protein: 340,\n      lysine: 12.1,\n      methionine: 7.4,\n      tryptophan: 4.2,\n      arginine: 27.5,\n      fiber: 175,\n      calcium: 3.2,\n      phosphorus: 8.8,\n      sodium: 0.2,\n    },\n    {\n      label: 'DDGS kukurydziany',\n      percentage: 0,\n      cost: 19,\n      dryWeight: 880,\n      energy: 10.69,\n      protein: 260,\n      lysine: 5.1,\n      methionine: 4.7,\n      tryptophan: 3.8,\n      arginine: 11.6,\n      fiber: 77,\n      calcium: 2.1,\n      phosphorus: 8.4,\n      sodium: 5.4,\n    },\n    {\n      label: 'Drożdże pastewne',\n      percentage: 0,\n      cost: 25,\n      dryWeight: 900,\n      energy: 10.3,\n      protein: 426,\n      lysine: 29.4,\n      methionine: 6.4,\n      tryptophan: 5,\n      arginine: 18.9,\n      fiber: 65,\n      calcium: 5,\n      phosphorus: 14.3,\n      sodium: 0.1,\n    },\n    {\n      label: 'Mleko odtłuszczone',\n      percentage: 0,\n      cost: 20,\n      dryWeight: 930,\n      energy: 9.85,\n      protein: 327,\n      lysine: 26.1,\n      methionine: 8.8,\n      tryptophan: 4.5,\n      arginine: 11.6,\n      fiber: 0,\n      calcium: 12.4,\n      phosphorus: 8.8,\n      sodium: 5,\n    },\n    {\n      label: 'Serwatka',\n      percentage: 0,\n      cost: 7,\n      dryWeight: 930,\n      energy: 8,\n      protein: 122,\n      lysine: 9.5,\n      methionine: 1.8,\n      tryptophan: 1.7,\n      arginine: 2.9,\n      fiber: 0,\n      calcium: 5.1,\n      phosphorus: 6,\n      sodium: 6.5,\n    },\n    {\n      label: 'Susz z lucerny',\n      percentage: 0,\n      cost: 26,\n      dryWeight: 910,\n      energy: 5.45,\n      protein: 202,\n      lysine: 9.3,\n      methionine: 2.9,\n      tryptophan: 3.4,\n      arginine: 8.1,\n      fiber: 206,\n      calcium: 13.2,\n      phosphorus: 3.1,\n      sodium: 0.8,\n    },\n    {\n      label: 'Olej',\n      percentage: 0,\n      cost: 30,\n      dryWeight: 1000,\n      energy: 37.65,\n      protein: 0,\n      lysine: 0,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 0,\n    },\n    {\n      label: 'Mączka rybna (65% b.o.)',\n      percentage: 0,\n      cost: 18,\n      dryWeight: 910,\n      energy: 12.2,\n      protein: 647,\n      lysine: 49.3,\n      methionine: 20.1,\n      tryptophan: 7.4,\n      arginine: 37.4,\n      fiber: 0,\n      calcium: 33.2,\n      phosphorus: 27.6,\n      sodium: 11.3,\n    },\n    {\n      label: 'Metionina (50%)',\n      percentage: 0,\n      cost: 18,\n      dryWeight: 900,\n      energy: 12.2,\n      protein: 0,\n      lysine: 0,\n      methionine: 500,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 0,\n    },\n    {\n      label: 'Lizyna (50%)',\n      percentage: 0,\n      cost: 30,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 500,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 0,\n    },\n    {\n      label: 'Kreda pastewna',\n      percentage: 0,\n      cost: 5,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 0,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 360.6,\n      phosphorus: 0.2,\n      sodium: 0.6,\n    },\n    {\n      label: 'Fosforan jednowapniowy',\n      percentage: 0,\n      cost: 29,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 0.02,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 220,\n      phosphorus: 230,\n      sodium: 0,\n    },\n    {\n      label: 'NaCl',\n      percentage: 0,\n      cost: 20,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 0.02,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 3,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 393,\n    },\n    {\n      label: 'Premix (7% lizyny)',\n      percentage: 0,\n      cost: 35,\n      dryWeight: 900,\n      energy: 0,\n      protein: 0,\n      lysine: 70,\n      methionine: 0,\n      tryptophan: 0,\n      arginine: 0,\n      fiber: 0,\n      calcium: 0,\n      phosphorus: 0,\n      sodium: 0,\n    },\n  ];\n\n  getProducts(): FoodItemRecord[] {\n    return this.products;\n  }\n\n  getHeaders(): NutrientItem[] {\n    return this.headers;\n  }\n}\n\nexport const FoodItemService = new FoodItemSingleton();\n","import { FieldType, FoodItemService } from '@/helpers/food-item.service';\nimport { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { extendFoodItemByProperty } from '@/helpers/utils';\n\nexport type TFieldType = 'TextField' | 'NumberField' | 'SelectField' | '';\n\nexport function getHeaderType(type?: FieldType): TFieldType {\n  switch (type) {\n    case FieldType.Text:\n      return 'TextField';\n    case FieldType.Number:\n      return 'NumberField';\n    case FieldType.Select:\n      return 'SelectField';\n  }\n  return '';\n}\n\n// TODO fix the product type to make it work properly\nexport function fillProductWithDefaults(product: any, headers: NutrientItem[]): FoodItemRecord {\n  return {\n    ...product,\n    ...headers.reduce((acc, header) => ({ ...acc, [header.property]: product[header.property] ?? 0 }), {}),\n  };\n}\n\nexport function getDefaultState(): { headers: NutrientItem[]; products: FoodItemRecord[]; tolerance: number } {\n  const headers = FoodItemService.getHeaders();\n  const products = FoodItemService.getProducts().map((product) => extendFoodItemByProperty(product));\n  const DEFAULT_TOLERANCE = 0.01;\n\n  return {\n    headers,\n    products,\n    tolerance: DEFAULT_TOLERANCE,\n  };\n}\n","import axios from 'axios';\nimport { ElLoading } from 'element-plus';\n\nexport type OpType = 'min' | 'max';\n\n// TODO add more options to optimize - but this will be some fancy stuff\n// TODO add more options ( actual lp solver options )\nexport function calculateFeedMix(\n  constraints: any,\n  variables: any,\n  params: { optimize: string; opType: OpType; options: { tolerance: number } },\n): Promise<any> {\n  const { optimize, opType, options } = params;\n  const lpProblemParams = {\n    optimize,\n    opType,\n    constraints,\n    variables,\n    options,\n  };\n  const loadingInstance = ElLoading.service({ fullscreen: true, lock: true });\n  return (\n    axios\n      .post('/api/calculate-feed-mix', lpProblemParams)\n      // TODO add error handling here\n      .then(({ data }) => data)\n      .finally(() => loadingInstance.close())\n  );\n}\n","\nimport { ElMessage } from 'element-plus';\nimport { computed, defineComponent, ref } from 'vue';\nimport TextField from '@/components/text-field/TextField.vue';\nimport AddButton from '@/components/add-button/AddButton.vue';\nimport NumberField from '@/components/number-field/NumberField.vue';\nimport SelectField from '@/components/select-field/SelectField.vue';\nimport { FieldMode } from '@/models/fieldMode';\nimport { alreadyExists } from '@/helpers/collection-helpers';\nimport FoodItemTable, { FoodItemModel } from '@/components/food-item-table/FoodItemTable.vue';\nimport { FoodItemRecord, NutrientItem } from '@/models/foodItem.model';\nimport { FieldType, FoodItemService, ForageType, getLimitsData, getLimitsHeaders } from '@/helpers/food-item.service';\nimport { fillProductWithDefaults, getDefaultState, getHeaderType } from '@/helpers/food-item-table';\nimport { calculateFeedMix } from '@/helpers/calculate-feed-mix-api';\nimport { getSuggestedPercentage } from '@/helpers/utils';\n\nexport default defineComponent({\n  name: 'ForageCalculator',\n  components: {\n    FoodItemTable,\n    TextField,\n    NumberField,\n    SelectField,\n    AddButton,\n  },\n  setup() {\n    const { headers: defaultHeaders, products: defaultProducts, tolerance: defaultTolerance } = getDefaultState();\n    const headers = ref(defaultHeaders);\n    const products = ref(defaultProducts);\n    const tolerance = ref(defaultTolerance);\n\n    const schema = computed(() =>\n      headers.value.map(\n        (header): FoodItemModel => ({\n          type: getHeaderType(header.type),\n          mode: FieldMode.Edit,\n          property: header.property,\n          label: header.label,\n          placeholder: header.label,\n        }),\n      ),\n    );\n\n    const ingredient = ref({\n      label: 'Foobar',\n      percentage: 10,\n      cost: 420,\n    });\n    const nutrient = ref('');\n    // TODO edit the cells in the table on click (values/1kg for specific products)\n\n    const forageType = ref(ForageType.Grower);\n    const limitOptions: { value: ForageType; label: string }[] = [\n      { value: ForageType.Starter, label: 'Starter' },\n      { value: ForageType.Prester, label: 'Prester' },\n      { value: ForageType.Grower, label: 'Grower' },\n      { value: ForageType.Finiszer, label: 'Finiszer' },\n      { value: ForageType.Nioska, label: 'Nioska' },\n    ];\n    const chosenForage = computed(() =>\n      (limitOptions.find(({ value }) => value === forageType.value)?.label ?? '').toLowerCase(),\n    );\n    const limitsData = computed(() => {\n      // TODO this should only take into account current \"macros\"/\"headers\", not the hardcoded limits\n      const limits = FoodItemService.limits[forageType.value] ?? {};\n      return [getLimitsData(limits, 'min'), getLimitsData(limits, 'max')];\n    });\n    const limitsHeaders = computed(() => {\n      // TODO this should only take into account current \"macros\"/\"headers\", not the hardcoded limits\n      const limits = FoodItemService.limits[forageType.value] ?? {};\n      return getLimitsHeaders(limits, schema?.value);\n    });\n    let selectedProducts: FoodItemRecord[] = [];\n    const { singularColumns, doubleColumns } = headers.value.reduce(\n      (acc: { singularColumns: NutrientItem[]; doubleColumns: NutrientItem[] }, curr) => {\n        curr.ingredientValue ? acc.doubleColumns.push(curr) : acc.singularColumns.push(curr);\n        return acc;\n      },\n      { singularColumns: [], doubleColumns: [] },\n    );\n\n    return {\n      schema,\n      headers,\n      products,\n      nutrient,\n      singularColumns,\n      doubleColumns,\n      ingredient,\n      forageType,\n      FieldMode,\n      ForageType,\n      chosenForage,\n      limitsData,\n      limitOptions,\n      limitsHeaders,\n      tolerance,\n      async calculateMinimalCostMix() {\n        if (selectedProducts.length === 0) {\n          ElMessage.error({\n            type: 'error',\n            showClose: true,\n            message: 'Należy wybrać produkty do wyliczenia mieszanki',\n          });\n          return;\n        }\n        const variables = selectedProducts.reduce((acc: { [key: string]: FoodItemRecord }, curr: FoodItemRecord): {\n          [key: string]: FoodItemRecord;\n        } => {\n          acc[curr.property ?? ''] = curr;\n          return acc;\n        }, {});\n        const constraints = {\n          ...FoodItemService.limits[forageType.value],\n        };\n        try {\n          const suggestedMix = await calculateFeedMix(constraints, variables, {\n            optimize: 'cost',\n            opType: 'min',\n            options: { tolerance: tolerance.value },\n          });\n          if (suggestedMix.feasible) {\n            ElMessage.success({\n              type: 'success',\n              showClose: true,\n              message: 'Pomyślnie wyznaczono składniki',\n            });\n            products.value.forEach((product) => {\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              const { feasible, bounded, result, ...rest } = suggestedMix;\n\n              product.percentage = getSuggestedPercentage(rest, product);\n            });\n          } else {\n            ElMessage.error({\n              type: 'error',\n              showClose: true,\n              message: 'Nie udało się znaleźć rozwiązania dla wybranych składników',\n            });\n          }\n        } catch (e) {\n          ElMessage.error({\n            type: 'error',\n            showClose: true,\n            message: 'Błąd połączenia z serwerem. Proszę spróbować ponownie później.',\n          });\n        }\n      },\n      resetToDefaults() {\n        const { products: defaultProducts, headers: defaultHeaders } = getDefaultState();\n        products.value = defaultProducts as any;\n        headers.value = defaultHeaders;\n      },\n      updateSelected(products: FoodItemRecord[]): void {\n        selectedProducts = products;\n      },\n      removeProduct(product: FoodItemRecord): void {\n        products.value = products.value.filter(({ label }) => label !== product.label);\n      },\n      addNutrient() {\n        const newNutrient: NutrientItem = {\n          label: nutrient.value,\n          property: nutrient.value,\n          type: FieldType.Number,\n          ingredientValue: true,\n        };\n        if (!nutrient.value || alreadyExists(headers.value, newNutrient)) {\n          return;\n        }\n\n        headers.value = [...headers.value, newNutrient];\n        products.value = products.value.map((product) => ({\n          ...product,\n          ...fillProductWithDefaults(product, headers.value),\n        }));\n        nutrient.value = '';\n      },\n      addIngredient() {\n        if (!ingredient.value.label || alreadyExists(products.value, ingredient.value as any)) {\n          return;\n        }\n\n        products.value = [...products.value, fillProductWithDefaults(ingredient.value, headers.value)] as any;\n        ingredient.value = {\n          label: '',\n          percentage: 0,\n          cost: 0,\n        };\n      },\n    };\n  },\n});\n","import { render } from \"./ForageCalculatorPage.vue?vue&type=template&id=5cfe7643&scoped=true\"\nimport script from \"./ForageCalculatorPage.vue?vue&type=script&lang=ts\"\nexport * from \"./ForageCalculatorPage.vue?vue&type=script&lang=ts\"\n\nimport \"./ForageCalculatorPage.vue?vue&type=style&index=0&id=5cfe7643&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5cfe7643\"\n\nexport default script","\nimport { defineComponent } from 'vue';\nimport ForageCalculatorPage from '@/components/forage-calculator-page/ForageCalculatorPage.vue';\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    ForageCalculatorPage,\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=44d46a6a\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=44d46a6a&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue';\nimport { ElButton, ElContainer, ElHeader, ElIcon, ElTable, ElTableColumn } from 'element-plus';\nimport App from './App.vue';\n\nimport '@/css/variables.css';\nimport '@/css/utils.css';\n\nimport '@/css/form.css';\nimport '@/css/containers.css';\n\ncreateApp(App)\n  .component(ElContainer.name, ElContainer)\n  .component(ElHeader.name, ElHeader)\n  .component(ElTable.name, ElTable)\n  .component(ElTableColumn.name, ElTableColumn)\n  .component(ElButton.name, ElButton)\n  .component(ElIcon.name, ElIcon)\n  .mount('#app');\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ForageCalculatorPage.vue?vue&type=style&index=0&id=5cfe7643&scoped=true&lang=css\""],"sourceRoot":""}